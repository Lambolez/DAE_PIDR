<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>DAEDrupalInterface: modules/dae_wsdl/lib/class.nusoap_base.php Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>modules/dae_wsdl/lib/class.nusoap_base.php</h1><a href="class_8nusoap__base_8php.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php
<a name="l00002"></a>00002 
<a name="l00003"></a>00003 <span class="comment">/*</span>
<a name="l00004"></a>00004 <span class="comment">$Id: class.nusoap_base.php,v 1.56 2010/04/26 20:15:08 snichol Exp $</span>
<a name="l00005"></a>00005 <span class="comment"></span>
<a name="l00006"></a>00006 <span class="comment">NuSOAP - Web Services Toolkit for PHP</span>
<a name="l00007"></a>00007 <span class="comment"></span>
<a name="l00008"></a>00008 <span class="comment">Copyright (c) 2002 NuSphere Corporation</span>
<a name="l00009"></a>00009 <span class="comment"></span>
<a name="l00010"></a>00010 <span class="comment">This library is free software; you can redistribute it and/or</span>
<a name="l00011"></a>00011 <span class="comment">modify it under the terms of the GNU Lesser General Public</span>
<a name="l00012"></a>00012 <span class="comment">License as published by the Free Software Foundation; either</span>
<a name="l00013"></a>00013 <span class="comment">version 2.1 of the License, or (at your option) any later version.</span>
<a name="l00014"></a>00014 <span class="comment"></span>
<a name="l00015"></a>00015 <span class="comment">This library is distributed in the hope that it will be useful,</span>
<a name="l00016"></a>00016 <span class="comment">but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00017"></a>00017 <span class="comment">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
<a name="l00018"></a>00018 <span class="comment">Lesser General Public License for more details.</span>
<a name="l00019"></a>00019 <span class="comment"></span>
<a name="l00020"></a>00020 <span class="comment">You should have received a copy of the GNU Lesser General Public</span>
<a name="l00021"></a>00021 <span class="comment">License along with this library; if not, write to the Free Software</span>
<a name="l00022"></a>00022 <span class="comment">Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span>
<a name="l00023"></a>00023 <span class="comment"></span>
<a name="l00024"></a>00024 <span class="comment">The NuSOAP project home is:</span>
<a name="l00025"></a>00025 <span class="comment">http://sourceforge.net/projects/nusoap/</span>
<a name="l00026"></a>00026 <span class="comment"></span>
<a name="l00027"></a>00027 <span class="comment">The primary support for NuSOAP is the Help forum on the project home page.</span>
<a name="l00028"></a>00028 <span class="comment"></span>
<a name="l00029"></a>00029 <span class="comment">If you have any questions or comments, please email:</span>
<a name="l00030"></a>00030 <span class="comment"></span>
<a name="l00031"></a>00031 <span class="comment">Dietrich Ayala</span>
<a name="l00032"></a>00032 <span class="comment">dietrich@ganx4.com</span>
<a name="l00033"></a>00033 <span class="comment">http://dietrich.ganx4.com/nusoap</span>
<a name="l00034"></a>00034 <span class="comment"></span>
<a name="l00035"></a>00035 <span class="comment">NuSphere Corporation</span>
<a name="l00036"></a>00036 <span class="comment">http://www.nusphere.com</span>
<a name="l00037"></a>00037 <span class="comment"></span>
<a name="l00038"></a>00038 <span class="comment">*/</span>
<a name="l00039"></a>00039 
<a name="l00040"></a>00040 <span class="comment">/*</span>
<a name="l00041"></a>00041 <span class="comment"> *      Some of the standards implmented in whole or part by NuSOAP:</span>
<a name="l00042"></a>00042 <span class="comment"> *</span>
<a name="l00043"></a>00043 <span class="comment"> *      SOAP 1.1 (http://www.w3.org/TR/2000/NOTE-SOAP-20000508/)</span>
<a name="l00044"></a>00044 <span class="comment"> *      WSDL 1.1 (http://www.w3.org/TR/2001/NOTE-wsdl-20010315)</span>
<a name="l00045"></a>00045 <span class="comment"> *      SOAP Messages With Attachments (http://www.w3.org/TR/SOAP-attachments)</span>
<a name="l00046"></a>00046 <span class="comment"> *      XML 1.0 (http://www.w3.org/TR/2006/REC-xml-20060816/)</span>
<a name="l00047"></a>00047 <span class="comment"> *      Namespaces in XML 1.0 (http://www.w3.org/TR/2006/REC-xml-names-20060816/)</span>
<a name="l00048"></a>00048 <span class="comment"> *      XML Schema 1.0 (http://www.w3.org/TR/xmlschema-0/)</span>
<a name="l00049"></a>00049 <span class="comment"> *      RFC 2045 Multipurpose Internet Mail Extensions (MIME) Part One: Format of Internet Message Bodies</span>
<a name="l00050"></a>00050 <span class="comment"> *      RFC 2068 Hypertext Transfer Protocol -- HTTP/1.1</span>
<a name="l00051"></a>00051 <span class="comment"> *      RFC 2617 HTTP Authentication: Basic and Digest Access Authentication</span>
<a name="l00052"></a>00052 <span class="comment"> */</span>
<a name="l00053"></a>00053 
<a name="l00054"></a>00054 <span class="comment">/* load classes</span>
<a name="l00055"></a>00055 <span class="comment"></span>
<a name="l00056"></a>00056 <span class="comment">// necessary classes</span>
<a name="l00057"></a>00057 <span class="comment">require_once(&#39;class.soapclient.php&#39;);</span>
<a name="l00058"></a>00058 <span class="comment">require_once(&#39;class.soap_val.php&#39;);</span>
<a name="l00059"></a>00059 <span class="comment">require_once(&#39;class.soap_parser.php&#39;);</span>
<a name="l00060"></a>00060 <span class="comment">require_once(&#39;class.soap_fault.php&#39;);</span>
<a name="l00061"></a>00061 <span class="comment"></span>
<a name="l00062"></a>00062 <span class="comment">// transport classes</span>
<a name="l00063"></a>00063 <span class="comment">require_once(&#39;class.soap_transport_http.php&#39;);</span>
<a name="l00064"></a>00064 <span class="comment"></span>
<a name="l00065"></a>00065 <span class="comment">// optional add-on classes</span>
<a name="l00066"></a>00066 <span class="comment">require_once(&#39;class.xmlschema.php&#39;);</span>
<a name="l00067"></a>00067 <span class="comment">require_once(&#39;class.wsdl.php&#39;);</span>
<a name="l00068"></a>00068 <span class="comment"></span>
<a name="l00069"></a>00069 <span class="comment">// server class</span>
<a name="l00070"></a>00070 <span class="comment">require_once(&#39;class.soap_server.php&#39;);*/</span>
<a name="l00071"></a>00071 
<a name="l00072"></a>00072 <span class="comment">// class variable emulation</span>
<a name="l00073"></a>00073 <span class="comment">// cf. http://www.webkreator.com/php/techniques/php-static-class-variables.html</span>
<a name="l00074"></a><a class="code" href="class_8nusoap__base_8php.html#a8581b61f0ccce82123a43934d044f729">00074</a> <a class="code" href="class_8nusoap__base_8php.html#a8581b61f0ccce82123a43934d044f729">$GLOBALS</a>[<span class="stringliteral">&#39;_transient&#39;</span>][<span class="stringliteral">&#39;static&#39;</span>][<span class="stringliteral">&#39;nusoap_base&#39;</span>][<span class="stringliteral">&#39;globalDebugLevel&#39;</span>] = 9;
<a name="l00075"></a>00075 
<a name="l00085"></a><a class="code" href="classnusoap__base.html">00085</a> <span class="keyword">class </span><a class="code" href="classnusoap__base.html">nusoap_base</a> {
<a name="l00092"></a><a class="code" href="classnusoap__base.html#a817eacdc4c6a28bf0017fd2054c35989">00092</a>         var <a class="code" href="classnusoap__base.html#a817eacdc4c6a28bf0017fd2054c35989">$title</a> = <span class="stringliteral">&#39;NuSOAP&#39;</span>;
<a name="l00099"></a><a class="code" href="classnusoap__base.html#a0d6d00a043bb2bd105afa0ee9ea0dfc9">00099</a>         var <a class="code" href="classnusoap__base.html#a0d6d00a043bb2bd105afa0ee9ea0dfc9">$version</a> = <span class="stringliteral">&#39;0.9.5&#39;</span>;
<a name="l00106"></a><a class="code" href="classnusoap__base.html#a70c2a01eb0cb88716ed6beb3d2787729">00106</a>         var <a class="code" href="classnusoap__base.html#a70c2a01eb0cb88716ed6beb3d2787729">$revision</a> = <span class="stringliteral">&#39;$Revision: 1.56 $&#39;</span>;
<a name="l00113"></a><a class="code" href="classnusoap__base.html#ab929dc26708dca55f64ed1ed71eb0ffb">00113</a>         var <a class="code" href="classnusoap__base.html#ab929dc26708dca55f64ed1ed71eb0ffb">$error_str</a> = <span class="stringliteral">&#39;&#39;</span>;
<a name="l00120"></a><a class="code" href="classnusoap__base.html#ab205c30522b616ba6441613a09a6a5d6">00120</a>     var <a class="code" href="classnusoap__base.html#ab205c30522b616ba6441613a09a6a5d6">$debug_str</a> = <span class="stringliteral">&#39;&#39;</span>;
<a name="l00128"></a><a class="code" href="classnusoap__base.html#a83c4f655c9def8e6c83f663ca482cd25">00128</a>         var <a class="code" href="classnusoap__base.html#a83c4f655c9def8e6c83f663ca482cd25">$charencoding</a> = <span class="keyword">true</span>;
<a name="l00135"></a><a class="code" href="classnusoap__base.html#a7523d80592269f5d504e47bbc99abcf1">00135</a>         var <a class="code" href="classnusoap__base.html#a7523d80592269f5d504e47bbc99abcf1">$debugLevel</a>;
<a name="l00136"></a>00136 
<a name="l00143"></a><a class="code" href="classnusoap__base.html#ab1acea7d157757313e44d96a999135d8">00143</a>         var <a class="code" href="classnusoap__base.html#ab1acea7d157757313e44d96a999135d8">$XMLSchemaVersion</a> = <span class="stringliteral">&#39;http://www.w3.org/2001/XMLSchema&#39;</span>;
<a name="l00144"></a>00144         
<a name="l00151"></a><a class="code" href="classnusoap__base.html#aa4f4e01fd8bfce6d40f618b5536c86f9">00151</a>     var <a class="code" href="classnusoap__base.html#aa4f4e01fd8bfce6d40f618b5536c86f9">$soap_defencoding</a> = <span class="stringliteral">&#39;ISO-8859-1&#39;</span>;
<a name="l00152"></a>00152         <span class="comment">//var $soap_defencoding = &#39;UTF-8&#39;;</span>
<a name="l00153"></a>00153 
<a name="l00162"></a><a class="code" href="classnusoap__base.html#a5d0c5f71681b592cb9b05898508c0b27">00162</a>         var <a class="code" href="classnusoap__base.html#a5d0c5f71681b592cb9b05898508c0b27">$namespaces</a> = array(
<a name="l00163"></a>00163                 <span class="stringliteral">&#39;SOAP-ENV&#39;</span> =&gt; <span class="stringliteral">&#39;http://schemas.xmlsoap.org/soap/envelope/&#39;</span>,
<a name="l00164"></a>00164                 <span class="stringliteral">&#39;xsd&#39;</span> =&gt; <span class="stringliteral">&#39;http://www.w3.org/2001/XMLSchema&#39;</span>,
<a name="l00165"></a>00165                 <span class="stringliteral">&#39;xsi&#39;</span> =&gt; <span class="stringliteral">&#39;http://www.w3.org/2001/XMLSchema-instance&#39;</span>,
<a name="l00166"></a>00166                 <span class="stringliteral">&#39;SOAP-ENC&#39;</span> =&gt; <span class="stringliteral">&#39;http://schemas.xmlsoap.org/soap/encoding/&#39;</span>
<a name="l00167"></a>00167                 );
<a name="l00168"></a>00168 
<a name="l00175"></a><a class="code" href="classnusoap__base.html#aa00bbae327f1af845ce260e23e43fdb6">00175</a>         var <a class="code" href="classnusoap__base.html#aa00bbae327f1af845ce260e23e43fdb6">$usedNamespaces</a> = array();
<a name="l00176"></a>00176 
<a name="l00184"></a><a class="code" href="classnusoap__base.html#ae4ebc59b387f0e1768a86bbb106963af">00184</a>         var <a class="code" href="classnusoap__base.html#ae4ebc59b387f0e1768a86bbb106963af">$typemap</a> = array(
<a name="l00185"></a>00185         <span class="stringliteral">&#39;http://www.w3.org/2001/XMLSchema&#39;</span> =&gt; array(
<a name="l00186"></a>00186                 <span class="stringliteral">&#39;string&#39;</span>=&gt;<span class="stringliteral">&#39;string&#39;</span>,<span class="stringliteral">&#39;boolean&#39;</span>=&gt;<span class="stringliteral">&#39;boolean&#39;</span>,<span class="stringliteral">&#39;float&#39;</span>=&gt;<span class="stringliteral">&#39;double&#39;</span>,<span class="stringliteral">&#39;double&#39;</span>=&gt;<span class="stringliteral">&#39;double&#39;</span>,<span class="stringliteral">&#39;decimal&#39;</span>=&gt;<span class="stringliteral">&#39;double&#39;</span>,
<a name="l00187"></a>00187                 <span class="stringliteral">&#39;duration&#39;</span>=&gt;<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;dateTime&#39;</span>=&gt;<span class="stringliteral">&#39;string&#39;</span>,<span class="stringliteral">&#39;time&#39;</span>=&gt;<span class="stringliteral">&#39;string&#39;</span>,<span class="stringliteral">&#39;date&#39;</span>=&gt;<span class="stringliteral">&#39;string&#39;</span>,<span class="stringliteral">&#39;gYearMonth&#39;</span>=&gt;<span class="stringliteral">&#39;&#39;</span>,
<a name="l00188"></a>00188                 <span class="stringliteral">&#39;gYear&#39;</span>=&gt;<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;gMonthDay&#39;</span>=&gt;<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;gDay&#39;</span>=&gt;<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;gMonth&#39;</span>=&gt;<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;hexBinary&#39;</span>=&gt;<span class="stringliteral">&#39;string&#39;</span>,<span class="stringliteral">&#39;base64Binary&#39;</span>=&gt;<span class="stringliteral">&#39;string&#39;</span>,
<a name="l00189"></a>00189                 <span class="comment">// abstract &quot;any&quot; types</span>
<a name="l00190"></a>00190                 <span class="stringliteral">&#39;anyType&#39;</span>=&gt;<span class="stringliteral">&#39;string&#39;</span>,<span class="stringliteral">&#39;anySimpleType&#39;</span>=&gt;<span class="stringliteral">&#39;string&#39;</span>,
<a name="l00191"></a>00191                 <span class="comment">// derived datatypes</span>
<a name="l00192"></a>00192                 <span class="stringliteral">&#39;normalizedString&#39;</span>=&gt;<span class="stringliteral">&#39;string&#39;</span>,<span class="stringliteral">&#39;token&#39;</span>=&gt;<span class="stringliteral">&#39;string&#39;</span>,<span class="stringliteral">&#39;language&#39;</span>=&gt;<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;NMTOKEN&#39;</span>=&gt;<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;NMTOKENS&#39;</span>=&gt;<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;Name&#39;</span>=&gt;<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;NCName&#39;</span>=&gt;<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;ID&#39;</span>=&gt;<span class="stringliteral">&#39;&#39;</span>,
<a name="l00193"></a>00193                 <span class="stringliteral">&#39;IDREF&#39;</span>=&gt;<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;IDREFS&#39;</span>=&gt;<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;ENTITY&#39;</span>=&gt;<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;ENTITIES&#39;</span>=&gt;<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;integer&#39;</span>=&gt;<span class="stringliteral">&#39;integer&#39;</span>,<span class="stringliteral">&#39;nonPositiveInteger&#39;</span>=&gt;<span class="stringliteral">&#39;integer&#39;</span>,
<a name="l00194"></a>00194                 <span class="stringliteral">&#39;negativeInteger&#39;</span>=&gt;<span class="stringliteral">&#39;integer&#39;</span>,<span class="stringliteral">&#39;long&#39;</span>=&gt;<span class="stringliteral">&#39;integer&#39;</span>,<span class="stringliteral">&#39;int&#39;</span>=&gt;<span class="stringliteral">&#39;integer&#39;</span>,<span class="stringliteral">&#39;short&#39;</span>=&gt;<span class="stringliteral">&#39;integer&#39;</span>,<span class="stringliteral">&#39;byte&#39;</span>=&gt;<span class="stringliteral">&#39;integer&#39;</span>,<span class="stringliteral">&#39;nonNegativeInteger&#39;</span>=&gt;<span class="stringliteral">&#39;integer&#39;</span>,
<a name="l00195"></a>00195                 <span class="stringliteral">&#39;unsignedLong&#39;</span>=&gt;<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;unsignedInt&#39;</span>=&gt;<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;unsignedShort&#39;</span>=&gt;<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;unsignedByte&#39;</span>=&gt;<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;positiveInteger&#39;</span>=&gt;<span class="stringliteral">&#39;&#39;</span>),
<a name="l00196"></a>00196         <span class="stringliteral">&#39;http://www.w3.org/2000/10/XMLSchema&#39;</span> =&gt; array(
<a name="l00197"></a>00197                 <span class="stringliteral">&#39;i4&#39;</span>=&gt;<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;int&#39;</span>=&gt;<span class="stringliteral">&#39;integer&#39;</span>,<span class="stringliteral">&#39;boolean&#39;</span>=&gt;<span class="stringliteral">&#39;boolean&#39;</span>,<span class="stringliteral">&#39;string&#39;</span>=&gt;<span class="stringliteral">&#39;string&#39;</span>,<span class="stringliteral">&#39;double&#39;</span>=&gt;<span class="stringliteral">&#39;double&#39;</span>,
<a name="l00198"></a>00198                 <span class="stringliteral">&#39;float&#39;</span>=&gt;<span class="stringliteral">&#39;double&#39;</span>,<span class="stringliteral">&#39;dateTime&#39;</span>=&gt;<span class="stringliteral">&#39;string&#39;</span>,
<a name="l00199"></a>00199                 <span class="stringliteral">&#39;timeInstant&#39;</span>=&gt;<span class="stringliteral">&#39;string&#39;</span>,<span class="stringliteral">&#39;base64Binary&#39;</span>=&gt;<span class="stringliteral">&#39;string&#39;</span>,<span class="stringliteral">&#39;base64&#39;</span>=&gt;<span class="stringliteral">&#39;string&#39;</span>,<span class="stringliteral">&#39;ur-type&#39;</span>=&gt;<span class="stringliteral">&#39;array&#39;</span>),
<a name="l00200"></a>00200         <span class="stringliteral">&#39;http://www.w3.org/1999/XMLSchema&#39;</span> =&gt; array(
<a name="l00201"></a>00201                 <span class="stringliteral">&#39;i4&#39;</span>=&gt;<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;int&#39;</span>=&gt;<span class="stringliteral">&#39;integer&#39;</span>,<span class="stringliteral">&#39;boolean&#39;</span>=&gt;<span class="stringliteral">&#39;boolean&#39;</span>,<span class="stringliteral">&#39;string&#39;</span>=&gt;<span class="stringliteral">&#39;string&#39;</span>,<span class="stringliteral">&#39;double&#39;</span>=&gt;<span class="stringliteral">&#39;double&#39;</span>,
<a name="l00202"></a>00202                 <span class="stringliteral">&#39;float&#39;</span>=&gt;<span class="stringliteral">&#39;double&#39;</span>,<span class="stringliteral">&#39;dateTime&#39;</span>=&gt;<span class="stringliteral">&#39;string&#39;</span>,
<a name="l00203"></a>00203                 <span class="stringliteral">&#39;timeInstant&#39;</span>=&gt;<span class="stringliteral">&#39;string&#39;</span>,<span class="stringliteral">&#39;base64Binary&#39;</span>=&gt;<span class="stringliteral">&#39;string&#39;</span>,<span class="stringliteral">&#39;base64&#39;</span>=&gt;<span class="stringliteral">&#39;string&#39;</span>,<span class="stringliteral">&#39;ur-type&#39;</span>=&gt;<span class="stringliteral">&#39;array&#39;</span>),
<a name="l00204"></a>00204         <span class="stringliteral">&#39;http://soapinterop.org/xsd&#39;</span> =&gt; array(<span class="stringliteral">&#39;SOAPStruct&#39;</span>=&gt;<span class="stringliteral">&#39;struct&#39;</span>),
<a name="l00205"></a>00205         <span class="stringliteral">&#39;http://schemas.xmlsoap.org/soap/encoding/&#39;</span> =&gt; array(<span class="stringliteral">&#39;base64&#39;</span>=&gt;<span class="stringliteral">&#39;string&#39;</span>,<span class="stringliteral">&#39;array&#39;</span>=&gt;<span class="stringliteral">&#39;array&#39;</span>,<span class="stringliteral">&#39;Array&#39;</span>=&gt;<span class="stringliteral">&#39;array&#39;</span>),
<a name="l00206"></a>00206     <span class="stringliteral">&#39;http://xml.apache.org/xml-soap&#39;</span> =&gt; array(<span class="stringliteral">&#39;Map&#39;</span>)
<a name="l00207"></a>00207         );
<a name="l00208"></a>00208 
<a name="l00217"></a><a class="code" href="classnusoap__base.html#a6d64d7e002f63d40855cbccd9ec12e39">00217</a>         var <a class="code" href="classnusoap__base.html#a6d64d7e002f63d40855cbccd9ec12e39">$xmlEntities</a> = array(<span class="stringliteral">&#39;quot&#39;</span> =&gt; <span class="charliteral">&#39;&quot;&#39;</span>,<span class="stringliteral">&#39;amp&#39;</span> =&gt; <span class="charliteral">&#39;&amp;&#39;</span>,
<a name="l00218"></a>00218                 <span class="stringliteral">&#39;lt&#39;</span> =&gt; <span class="charliteral">&#39;&lt;&#39;</span>,<span class="stringliteral">&#39;gt&#39;</span> =&gt; <span class="charliteral">&#39;&gt;&#39;</span>,<span class="stringliteral">&#39;apos&#39;</span> =&gt; <span class="stringliteral">&quot;&#39;&quot;</span>);
<a name="l00219"></a>00219 
<a name="l00225"></a><a class="code" href="classnusoap__base.html#a236c7ba11817473af2af447e11fba3b0">00225</a>         function <a class="code" href="classnusoap__base.html#a236c7ba11817473af2af447e11fba3b0">nusoap_base</a>() {
<a name="l00226"></a>00226                 $this-&gt;debugLevel = <a class="code" href="class_8nusoap__base_8php.html#a8581b61f0ccce82123a43934d044f729">$GLOBALS</a>[<span class="stringliteral">&#39;_transient&#39;</span>][<span class="stringliteral">&#39;static&#39;</span>][<span class="stringliteral">&#39;nusoap_base&#39;</span>][<span class="stringliteral">&#39;globalDebugLevel&#39;</span>];
<a name="l00227"></a>00227         }
<a name="l00228"></a>00228 
<a name="l00235"></a><a class="code" href="classnusoap__base.html#ae908fa7f244da9d9d049f3d3dd3e84cd">00235</a>         function <a class="code" href="classnusoap__base.html#ae908fa7f244da9d9d049f3d3dd3e84cd">getGlobalDebugLevel</a>() {
<a name="l00236"></a>00236                 <span class="keywordflow">return</span> <a class="code" href="class_8nusoap__base_8php.html#a8581b61f0ccce82123a43934d044f729">$GLOBALS</a>[<span class="stringliteral">&#39;_transient&#39;</span>][<span class="stringliteral">&#39;static&#39;</span>][<span class="stringliteral">&#39;nusoap_base&#39;</span>][<span class="stringliteral">&#39;globalDebugLevel&#39;</span>];
<a name="l00237"></a>00237         }
<a name="l00238"></a>00238 
<a name="l00245"></a><a class="code" href="classnusoap__base.html#a6d677a19eb0e5a95673eaab9a6e99c48">00245</a>         function <a class="code" href="classnusoap__base.html#a6d677a19eb0e5a95673eaab9a6e99c48">setGlobalDebugLevel</a>($level) {
<a name="l00246"></a>00246                 <a class="code" href="class_8nusoap__base_8php.html#a8581b61f0ccce82123a43934d044f729">$GLOBALS</a>[<span class="stringliteral">&#39;_transient&#39;</span>][<span class="stringliteral">&#39;static&#39;</span>][<span class="stringliteral">&#39;nusoap_base&#39;</span>][<span class="stringliteral">&#39;globalDebugLevel&#39;</span>] = $level;
<a name="l00247"></a>00247         }
<a name="l00248"></a>00248 
<a name="l00255"></a><a class="code" href="classnusoap__base.html#a3daafdf50e4f3348256943400b9baff6">00255</a>         function <a class="code" href="classnusoap__base.html#a3daafdf50e4f3348256943400b9baff6">getDebugLevel</a>() {
<a name="l00256"></a>00256                 <span class="keywordflow">return</span> $this-&gt;debugLevel;
<a name="l00257"></a>00257         }
<a name="l00258"></a>00258 
<a name="l00265"></a><a class="code" href="classnusoap__base.html#abcb0fa408704b5d48c8ec4630bc4f9a5">00265</a>         function <a class="code" href="classnusoap__base.html#abcb0fa408704b5d48c8ec4630bc4f9a5">setDebugLevel</a>($level) {
<a name="l00266"></a>00266                 $this-&gt;debugLevel = $level;
<a name="l00267"></a>00267         }
<a name="l00268"></a>00268 
<a name="l00275"></a><a class="code" href="classnusoap__base.html#a2ff2869a93609f3f282863a7273c26c1">00275</a>         function <a class="code" href="classnusoap__base.html#a2ff2869a93609f3f282863a7273c26c1">debug</a>($string){
<a name="l00276"></a>00276                 <span class="keywordflow">if</span> ($this-&gt;debugLevel &gt; 0) {
<a name="l00277"></a>00277                         $this-&gt;<a class="code" href="classnusoap__base.html#ac8304fa5d607d52124496ee242043f24">appendDebug</a>($this-&gt;<a class="code" href="classnusoap__base.html#a1945b0481c5128c4126352f457a4c36a">getmicrotime</a>().<span class="charliteral">&#39; &#39;</span>.get_class($this).<span class="stringliteral">&quot;: $string\n&quot;</span>);
<a name="l00278"></a>00278                 }
<a name="l00279"></a>00279         }
<a name="l00280"></a>00280 
<a name="l00287"></a><a class="code" href="classnusoap__base.html#ac8304fa5d607d52124496ee242043f24">00287</a>         function <a class="code" href="classnusoap__base.html#ac8304fa5d607d52124496ee242043f24">appendDebug</a>($string){
<a name="l00288"></a>00288                 <span class="keywordflow">if</span> ($this-&gt;debugLevel &gt; 0) {
<a name="l00289"></a>00289                         <span class="comment">// it would be nice to use a memory stream here to use</span>
<a name="l00290"></a>00290                         <span class="comment">// memory more efficiently</span>
<a name="l00291"></a>00291                         $this-&gt;debug_str .= $string;
<a name="l00292"></a>00292                 }
<a name="l00293"></a>00293         }
<a name="l00294"></a>00294 
<a name="l00300"></a><a class="code" href="classnusoap__base.html#a8e18ffd463ac8aad2095617e80c271c7">00300</a>         function <a class="code" href="classnusoap__base.html#a8e18ffd463ac8aad2095617e80c271c7">clearDebug</a>() {
<a name="l00301"></a>00301                 <span class="comment">// it would be nice to use a memory stream here to use</span>
<a name="l00302"></a>00302                 <span class="comment">// memory more efficiently</span>
<a name="l00303"></a>00303                 $this-&gt;debug_str = <span class="stringliteral">&#39;&#39;</span>;
<a name="l00304"></a>00304         }
<a name="l00305"></a>00305 
<a name="l00312"></a><a class="code" href="classnusoap__base.html#a0ad5e3365040a6352f7064e107f3dab7">00312</a>         function &amp;<a class="code" href="classnusoap__base.html#a0ad5e3365040a6352f7064e107f3dab7">getDebug</a>() {
<a name="l00313"></a>00313                 <span class="comment">// it would be nice to use a memory stream here to use</span>
<a name="l00314"></a>00314                 <span class="comment">// memory more efficiently</span>
<a name="l00315"></a>00315                 <span class="keywordflow">return</span> $this-&gt;debug_str;
<a name="l00316"></a>00316         }
<a name="l00317"></a>00317 
<a name="l00325"></a><a class="code" href="classnusoap__base.html#a1517d53fd8ffed1b61db074b038d1521">00325</a>         function &amp;<a class="code" href="classnusoap__base.html#a1517d53fd8ffed1b61db074b038d1521">getDebugAsXMLComment</a>() {
<a name="l00326"></a>00326                 <span class="comment">// it would be nice to use a memory stream here to use</span>
<a name="l00327"></a>00327                 <span class="comment">// memory more efficiently</span>
<a name="l00328"></a>00328                 <span class="keywordflow">while</span> (strpos($this-&gt;debug_str, <span class="stringliteral">&#39;--&#39;</span>)) {
<a name="l00329"></a>00329                         $this-&gt;debug_str = str_replace(<span class="stringliteral">&#39;--&#39;</span>, <span class="stringliteral">&#39;- -&#39;</span>, $this-&gt;debug_str);
<a name="l00330"></a>00330                 }
<a name="l00331"></a>00331                 $ret = <span class="stringliteral">&quot;&lt;!--\n&quot;</span> . $this-&gt;debug_str . <span class="stringliteral">&quot;\n--&gt;&quot;</span>;
<a name="l00332"></a>00332         <span class="keywordflow">return</span> $ret;
<a name="l00333"></a>00333         }
<a name="l00334"></a>00334 
<a name="l00341"></a><a class="code" href="classnusoap__base.html#aa05581a9628de0f46b30dd67b5578cef">00341</a>         function <a class="code" href="classnusoap__base.html#aa05581a9628de0f46b30dd67b5578cef">expandEntities</a>($val) {
<a name="l00342"></a>00342                 <span class="keywordflow">if</span> ($this-&gt;charencoding) {
<a name="l00343"></a>00343                 $val = str_replace(<span class="charliteral">&#39;&amp;&#39;</span>, <span class="stringliteral">&#39;&amp;amp;&#39;</span>, $val);
<a name="l00344"></a>00344                 $val = str_replace(<span class="stringliteral">&quot;&#39;&quot;</span>, <span class="stringliteral">&#39;&amp;apos;&#39;</span>, $val);
<a name="l00345"></a>00345                 $val = str_replace(<span class="charliteral">&#39;&quot;&#39;</span>, <span class="stringliteral">&#39;&amp;quot;&#39;</span>, $val);
<a name="l00346"></a>00346                 $val = str_replace(<span class="charliteral">&#39;&lt;&#39;</span>, <span class="stringliteral">&#39;&amp;lt;&#39;</span>, $val);
<a name="l00347"></a>00347                 $val = str_replace(<span class="charliteral">&#39;&gt;&#39;</span>, <span class="stringliteral">&#39;&amp;gt;&#39;</span>, $val);
<a name="l00348"></a>00348             }
<a name="l00349"></a>00349             <span class="keywordflow">return</span> $val;
<a name="l00350"></a>00350         }
<a name="l00351"></a>00351 
<a name="l00358"></a><a class="code" href="classnusoap__base.html#abf5c6d6bc06a33b7e201e24e2fb089eb">00358</a>         function <a class="code" href="classnusoap__base.html#abf5c6d6bc06a33b7e201e24e2fb089eb">getError</a>(){
<a name="l00359"></a>00359                 <span class="keywordflow">if</span>($this-&gt;error_str != <span class="stringliteral">&#39;&#39;</span>){
<a name="l00360"></a>00360                         <span class="keywordflow">return</span> $this-&gt;error_str;
<a name="l00361"></a>00361                 }
<a name="l00362"></a>00362                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00363"></a>00363         }
<a name="l00364"></a>00364 
<a name="l00371"></a><a class="code" href="classnusoap__base.html#a1be4ce561772039b0b84c423948f1f60">00371</a>         function <a class="code" href="classnusoap__base.html#a1be4ce561772039b0b84c423948f1f60">setError</a>($str){
<a name="l00372"></a>00372                 $this-&gt;error_str = $str;
<a name="l00373"></a>00373         }
<a name="l00374"></a>00374 
<a name="l00382"></a><a class="code" href="classnusoap__base.html#ae592e8f651298d6b648590cf5eeafac9">00382</a>         function <a class="code" href="classnusoap__base.html#ae592e8f651298d6b648590cf5eeafac9">isArraySimpleOrStruct</a>($val) {
<a name="l00383"></a>00383         $keyList = array_keys($val);
<a name="l00384"></a>00384                 <span class="keywordflow">foreach</span> ($keyList as $keyListValue) {
<a name="l00385"></a>00385                         <span class="keywordflow">if</span> (!is_int($keyListValue)) {
<a name="l00386"></a>00386                                 <span class="keywordflow">return</span> <span class="stringliteral">&#39;arrayStruct&#39;</span>;
<a name="l00387"></a>00387                         }
<a name="l00388"></a>00388                 }
<a name="l00389"></a>00389                 <span class="keywordflow">return</span> <span class="stringliteral">&#39;arraySimple&#39;</span>;
<a name="l00390"></a>00390         }
<a name="l00391"></a>00391 
<a name="l00407"></a><a class="code" href="classnusoap__base.html#a60ee09e022c9270ea717783c32083d74">00407</a>         function <a class="code" href="classnusoap__base.html#a60ee09e022c9270ea717783c32083d74">serialize_val</a>($val,$name=<span class="keyword">false</span>,$type=<span class="keyword">false</span>,$name_ns=<span class="keyword">false</span>,$type_ns=<span class="keyword">false</span>,$attributes=<span class="keyword">false</span>,$use=<span class="stringliteral">&#39;encoded&#39;</span>,$soapval=<span class="keyword">false</span>) {
<a name="l00408"></a>00408                 $this-&gt;<a class="code" href="classnusoap__base.html#a2ff2869a93609f3f282863a7273c26c1">debug</a>(<span class="stringliteral">&quot;in serialize_val: name=$name, type=$type, name_ns=$name_ns, type_ns=$type_ns, use=$use, soapval=$soapval&quot;</span>);
<a name="l00409"></a>00409                 $this-&gt;<a class="code" href="classnusoap__base.html#ac8304fa5d607d52124496ee242043f24">appendDebug</a>(<span class="stringliteral">&#39;value=&#39;</span> . $this-&gt;<a class="code" href="classnusoap__base.html#ab5511c6c0e6767b3e8b0ee9cad826641">varDump</a>($val));
<a name="l00410"></a>00410                 $this-&gt;<a class="code" href="classnusoap__base.html#ac8304fa5d607d52124496ee242043f24">appendDebug</a>(<span class="stringliteral">&#39;attributes=&#39;</span> . $this-&gt;<a class="code" href="classnusoap__base.html#ab5511c6c0e6767b3e8b0ee9cad826641">varDump</a>($attributes));
<a name="l00411"></a>00411                 
<a name="l00412"></a>00412         <span class="keywordflow">if</span> (is_object($val) &amp;&amp; get_class($val) == <span class="stringliteral">&#39;soapval&#39;</span> &amp;&amp; (! $soapval)) {
<a name="l00413"></a>00413                 $this-&gt;<a class="code" href="classnusoap__base.html#a2ff2869a93609f3f282863a7273c26c1">debug</a>(<span class="stringliteral">&quot;serialize_val: serialize soapval&quot;</span>);
<a name="l00414"></a>00414                 $xml = $val-&gt;serialize($use);
<a name="l00415"></a>00415                         $this-&gt;<a class="code" href="classnusoap__base.html#ac8304fa5d607d52124496ee242043f24">appendDebug</a>($val-&gt;getDebug());
<a name="l00416"></a>00416                         $val-&gt;clearDebug();
<a name="l00417"></a>00417                         $this-&gt;<a class="code" href="classnusoap__base.html#a2ff2869a93609f3f282863a7273c26c1">debug</a>(<span class="stringliteral">&quot;serialize_val of soapval returning $xml&quot;</span>);
<a name="l00418"></a>00418                         <span class="keywordflow">return</span> $xml;
<a name="l00419"></a>00419         }
<a name="l00420"></a>00420                 <span class="comment">// force valid name if necessary</span>
<a name="l00421"></a>00421                 <span class="keywordflow">if</span> (is_numeric($name)) {
<a name="l00422"></a>00422                         $name = <span class="stringliteral">&#39;__numeric_&#39;</span> . $name;
<a name="l00423"></a>00423                 } elseif (! $name) {
<a name="l00424"></a>00424                         $name = <span class="stringliteral">&#39;noname&#39;</span>;
<a name="l00425"></a>00425                 }
<a name="l00426"></a>00426                 <span class="comment">// if name has ns, add ns prefix to name</span>
<a name="l00427"></a>00427                 $xmlns = <span class="stringliteral">&#39;&#39;</span>;
<a name="l00428"></a>00428         <span class="keywordflow">if</span>($name_ns){
<a name="l00429"></a>00429                         $prefix = <span class="stringliteral">&#39;nu&#39;</span>.rand(1000,9999);
<a name="l00430"></a>00430                         $name = $prefix.<span class="charliteral">&#39;:&#39;</span>.$name;
<a name="l00431"></a>00431                         $xmlns .= <span class="stringliteral">&quot; xmlns:$prefix=\&quot;$name_ns\&quot;&quot;</span>;
<a name="l00432"></a>00432                 }
<a name="l00433"></a>00433                 <span class="comment">// if type is prefixed, create type prefix</span>
<a name="l00434"></a>00434                 <span class="keywordflow">if</span>($type_ns != <span class="stringliteral">&#39;&#39;</span> &amp;&amp; $type_ns == $this-&gt;namespaces[<span class="stringliteral">&#39;xsd&#39;</span>]){
<a name="l00435"></a>00435                         <span class="comment">// need to fix this. shouldn&#39;t default to xsd if no ns specified</span>
<a name="l00436"></a>00436                     <span class="comment">// w/o checking against typemap</span>
<a name="l00437"></a>00437                         $type_prefix = <span class="stringliteral">&#39;xsd&#39;</span>;
<a name="l00438"></a>00438                 } elseif($type_ns){
<a name="l00439"></a>00439                         $type_prefix = <span class="stringliteral">&#39;ns&#39;</span>.rand(1000,9999);
<a name="l00440"></a>00440                         $xmlns .= <span class="stringliteral">&quot; xmlns:$type_prefix=\&quot;$type_ns\&quot;&quot;</span>;
<a name="l00441"></a>00441                 }
<a name="l00442"></a>00442                 <span class="comment">// serialize attributes if present</span>
<a name="l00443"></a>00443                 $atts = <span class="stringliteral">&#39;&#39;</span>;
<a name="l00444"></a>00444                 <span class="keywordflow">if</span>($attributes){
<a name="l00445"></a>00445                         <span class="keywordflow">foreach</span>($attributes as $k =&gt; $v){
<a name="l00446"></a>00446                                 $atts .= <span class="stringliteral">&quot; $k=\&quot;&quot;</span>.$this-&gt;expandEntities($v).<span class="charliteral">&#39;&quot;&#39;</span>;
<a name="l00447"></a>00447                         }
<a name="l00448"></a>00448                 }
<a name="l00449"></a>00449                 <span class="comment">// serialize null value</span>
<a name="l00450"></a>00450                 <span class="keywordflow">if</span> (is_null($val)) {
<a name="l00451"></a>00451                 $this-&gt;<a class="code" href="classnusoap__base.html#a2ff2869a93609f3f282863a7273c26c1">debug</a>(<span class="stringliteral">&quot;serialize_val: serialize null&quot;</span>);
<a name="l00452"></a>00452                         <span class="keywordflow">if</span> ($use == <span class="stringliteral">&#39;literal&#39;</span>) {
<a name="l00453"></a>00453                                 <span class="comment">// TODO: depends on minOccurs</span>
<a name="l00454"></a>00454                                 $xml = <span class="stringliteral">&quot;&lt;$name$xmlns$atts/&gt;&quot;</span>;
<a name="l00455"></a>00455                                 $this-&gt;<a class="code" href="classnusoap__base.html#a2ff2869a93609f3f282863a7273c26c1">debug</a>(<span class="stringliteral">&quot;serialize_val returning $xml&quot;</span>);
<a name="l00456"></a>00456                         <span class="keywordflow">return</span> $xml;
<a name="l00457"></a>00457                 } <span class="keywordflow">else</span> {
<a name="l00458"></a>00458                                 <span class="keywordflow">if</span> (isset($type) &amp;&amp; isset($type_prefix)) {
<a name="l00459"></a>00459                                         $type_str = <span class="stringliteral">&quot; xsi:type=\&quot;$type_prefix:$type\&quot;&quot;</span>;
<a name="l00460"></a>00460                                 } <span class="keywordflow">else</span> {
<a name="l00461"></a>00461                                         $type_str = <span class="stringliteral">&#39;&#39;</span>;
<a name="l00462"></a>00462                                 }
<a name="l00463"></a>00463                                 $xml = <span class="stringliteral">&quot;&lt;$name$xmlns$type_str$atts xsi:nil=\&quot;true\&quot;/&gt;&quot;</span>;
<a name="l00464"></a>00464                                 $this-&gt;<a class="code" href="classnusoap__base.html#a2ff2869a93609f3f282863a7273c26c1">debug</a>(<span class="stringliteral">&quot;serialize_val returning $xml&quot;</span>);
<a name="l00465"></a>00465                         <span class="keywordflow">return</span> $xml;
<a name="l00466"></a>00466                 }
<a name="l00467"></a>00467                 }
<a name="l00468"></a>00468         <span class="comment">// serialize if an xsd built-in primitive type</span>
<a name="l00469"></a>00469         <span class="keywordflow">if</span>($type != <span class="stringliteral">&#39;&#39;</span> &amp;&amp; isset($this-&gt;typemap[$this-&gt;XMLSchemaVersion][$type])){
<a name="l00470"></a>00470                 $this-&gt;<a class="code" href="classnusoap__base.html#a2ff2869a93609f3f282863a7273c26c1">debug</a>(<span class="stringliteral">&quot;serialize_val: serialize xsd built-in primitive type&quot;</span>);
<a name="l00471"></a>00471                 <span class="keywordflow">if</span> (is_bool($val)) {
<a name="l00472"></a>00472                         <span class="keywordflow">if</span> ($type == <span class="stringliteral">&#39;boolean&#39;</span>) {
<a name="l00473"></a>00473                                 $val = $val ? <span class="stringliteral">&#39;true&#39;</span> : <span class="stringliteral">&#39;false&#39;</span>;
<a name="l00474"></a>00474                         } elseif (! $val) {
<a name="l00475"></a>00475                                 $val = 0;
<a name="l00476"></a>00476                         }
<a name="l00477"></a>00477                         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (is_string($val)) {
<a name="l00478"></a>00478                                 $val = $this-&gt;<a class="code" href="classnusoap__base.html#aa05581a9628de0f46b30dd67b5578cef">expandEntities</a>($val);
<a name="l00479"></a>00479                         }
<a name="l00480"></a>00480                         <span class="keywordflow">if</span> ($use == <span class="stringliteral">&#39;literal&#39;</span>) {
<a name="l00481"></a>00481                                 $xml = <span class="stringliteral">&quot;&lt;$name$xmlns$atts&gt;$val&lt;/$name&gt;&quot;</span>;
<a name="l00482"></a>00482                                 $this-&gt;<a class="code" href="classnusoap__base.html#a2ff2869a93609f3f282863a7273c26c1">debug</a>(<span class="stringliteral">&quot;serialize_val returning $xml&quot;</span>);
<a name="l00483"></a>00483                         <span class="keywordflow">return</span> $xml;
<a name="l00484"></a>00484                 } <span class="keywordflow">else</span> {
<a name="l00485"></a>00485                                 $xml = <span class="stringliteral">&quot;&lt;$name$xmlns xsi:type=\&quot;xsd:$type\&quot;$atts&gt;$val&lt;/$name&gt;&quot;</span>;
<a name="l00486"></a>00486                                 $this-&gt;<a class="code" href="classnusoap__base.html#a2ff2869a93609f3f282863a7273c26c1">debug</a>(<span class="stringliteral">&quot;serialize_val returning $xml&quot;</span>);
<a name="l00487"></a>00487                         <span class="keywordflow">return</span> $xml;
<a name="l00488"></a>00488                 }
<a name="l00489"></a>00489         }
<a name="l00490"></a>00490                 <span class="comment">// detect type and serialize</span>
<a name="l00491"></a>00491                 $xml = <span class="stringliteral">&#39;&#39;</span>;
<a name="l00492"></a>00492                 <span class="keywordflow">switch</span>(<span class="keyword">true</span>) {
<a name="l00493"></a>00493                         <span class="keywordflow">case</span> (is_bool($val) || $type == <span class="stringliteral">&#39;boolean&#39;</span>):
<a name="l00494"></a>00494                                 $this-&gt;<a class="code" href="classnusoap__base.html#a2ff2869a93609f3f282863a7273c26c1">debug</a>(<span class="stringliteral">&quot;serialize_val: serialize boolean&quot;</span>);
<a name="l00495"></a>00495                         <span class="keywordflow">if</span> ($type == <span class="stringliteral">&#39;boolean&#39;</span>) {
<a name="l00496"></a>00496                                 $val = $val ? <span class="stringliteral">&#39;true&#39;</span> : <span class="stringliteral">&#39;false&#39;</span>;
<a name="l00497"></a>00497                         } elseif (! $val) {
<a name="l00498"></a>00498                                 $val = 0;
<a name="l00499"></a>00499                         }
<a name="l00500"></a>00500                                 <span class="keywordflow">if</span> ($use == <span class="stringliteral">&#39;literal&#39;</span>) {
<a name="l00501"></a>00501                                         $xml .= <span class="stringliteral">&quot;&lt;$name$xmlns$atts&gt;$val&lt;/$name&gt;&quot;</span>;
<a name="l00502"></a>00502                                 } <span class="keywordflow">else</span> {
<a name="l00503"></a>00503                                         $xml .= <span class="stringliteral">&quot;&lt;$name$xmlns xsi:type=\&quot;xsd:boolean\&quot;$atts&gt;$val&lt;/$name&gt;&quot;</span>;
<a name="l00504"></a>00504                                 }
<a name="l00505"></a>00505                                 <span class="keywordflow">break</span>;
<a name="l00506"></a>00506                         <span class="keywordflow">case</span> (is_int($val) || is_long($val) || $type == <span class="stringliteral">&#39;int&#39;</span>):
<a name="l00507"></a>00507                                 $this-&gt;<a class="code" href="classnusoap__base.html#a2ff2869a93609f3f282863a7273c26c1">debug</a>(<span class="stringliteral">&quot;serialize_val: serialize int&quot;</span>);
<a name="l00508"></a>00508                                 <span class="keywordflow">if</span> ($use == <span class="stringliteral">&#39;literal&#39;</span>) {
<a name="l00509"></a>00509                                         $xml .= <span class="stringliteral">&quot;&lt;$name$xmlns$atts&gt;$val&lt;/$name&gt;&quot;</span>;
<a name="l00510"></a>00510                                 } <span class="keywordflow">else</span> {
<a name="l00511"></a>00511                                         $xml .= <span class="stringliteral">&quot;&lt;$name$xmlns xsi:type=\&quot;xsd:int\&quot;$atts&gt;$val&lt;/$name&gt;&quot;</span>;
<a name="l00512"></a>00512                                 }
<a name="l00513"></a>00513                                 <span class="keywordflow">break</span>;
<a name="l00514"></a>00514                         <span class="keywordflow">case</span> (is_float($val)|| is_double($val) || $type == <span class="stringliteral">&#39;float&#39;</span>):
<a name="l00515"></a>00515                                 $this-&gt;<a class="code" href="classnusoap__base.html#a2ff2869a93609f3f282863a7273c26c1">debug</a>(<span class="stringliteral">&quot;serialize_val: serialize float&quot;</span>);
<a name="l00516"></a>00516                                 <span class="keywordflow">if</span> ($use == <span class="stringliteral">&#39;literal&#39;</span>) {
<a name="l00517"></a>00517                                         $xml .= <span class="stringliteral">&quot;&lt;$name$xmlns$atts&gt;$val&lt;/$name&gt;&quot;</span>;
<a name="l00518"></a>00518                                 } <span class="keywordflow">else</span> {
<a name="l00519"></a>00519                                         $xml .= <span class="stringliteral">&quot;&lt;$name$xmlns xsi:type=\&quot;xsd:float\&quot;$atts&gt;$val&lt;/$name&gt;&quot;</span>;
<a name="l00520"></a>00520                                 }
<a name="l00521"></a>00521                                 <span class="keywordflow">break</span>;
<a name="l00522"></a>00522                         <span class="keywordflow">case</span> (is_string($val) || $type == <span class="stringliteral">&#39;string&#39;</span>):
<a name="l00523"></a>00523                                 $this-&gt;<a class="code" href="classnusoap__base.html#a2ff2869a93609f3f282863a7273c26c1">debug</a>(<span class="stringliteral">&quot;serialize_val: serialize string&quot;</span>);
<a name="l00524"></a>00524                                 $val = $this-&gt;<a class="code" href="classnusoap__base.html#aa05581a9628de0f46b30dd67b5578cef">expandEntities</a>($val);
<a name="l00525"></a>00525                                 <span class="keywordflow">if</span> ($use == <span class="stringliteral">&#39;literal&#39;</span>) {
<a name="l00526"></a>00526                                         $xml .= <span class="stringliteral">&quot;&lt;$name$xmlns$atts&gt;$val&lt;/$name&gt;&quot;</span>;
<a name="l00527"></a>00527                                 } <span class="keywordflow">else</span> {
<a name="l00528"></a>00528                                         $xml .= <span class="stringliteral">&quot;&lt;$name$xmlns xsi:type=\&quot;xsd:string\&quot;$atts&gt;$val&lt;/$name&gt;&quot;</span>;
<a name="l00529"></a>00529                                 }
<a name="l00530"></a>00530                                 <span class="keywordflow">break</span>;
<a name="l00531"></a>00531                         <span class="keywordflow">case</span> is_object($val):
<a name="l00532"></a>00532                                 $this-&gt;<a class="code" href="classnusoap__base.html#a2ff2869a93609f3f282863a7273c26c1">debug</a>(<span class="stringliteral">&quot;serialize_val: serialize object&quot;</span>);
<a name="l00533"></a>00533                         <span class="keywordflow">if</span> (get_class($val) == <span class="stringliteral">&#39;soapval&#39;</span>) {
<a name="l00534"></a>00534                                 $this-&gt;<a class="code" href="classnusoap__base.html#a2ff2869a93609f3f282863a7273c26c1">debug</a>(<span class="stringliteral">&quot;serialize_val: serialize soapval object&quot;</span>);
<a name="l00535"></a>00535                                 $pXml = $val-&gt;serialize($use);
<a name="l00536"></a>00536                                         $this-&gt;<a class="code" href="classnusoap__base.html#ac8304fa5d607d52124496ee242043f24">appendDebug</a>($val-&gt;getDebug());
<a name="l00537"></a>00537                                         $val-&gt;clearDebug();
<a name="l00538"></a>00538                         } <span class="keywordflow">else</span> {
<a name="l00539"></a>00539                                         <span class="keywordflow">if</span> (! $name) {
<a name="l00540"></a>00540                                                 $name = get_class($val);
<a name="l00541"></a>00541                                                 $this-&gt;<a class="code" href="classnusoap__base.html#a2ff2869a93609f3f282863a7273c26c1">debug</a>(<span class="stringliteral">&quot;In serialize_val, used class name $name as element name&quot;</span>);
<a name="l00542"></a>00542                                         } <span class="keywordflow">else</span> {
<a name="l00543"></a>00543                                                 $this-&gt;<a class="code" href="classnusoap__base.html#a2ff2869a93609f3f282863a7273c26c1">debug</a>(<span class="stringliteral">&quot;In serialize_val, do not override name $name for element name for class &quot;</span> . get_class($val));
<a name="l00544"></a>00544                                         }
<a name="l00545"></a>00545                                         <span class="keywordflow">foreach</span>(get_object_vars($val) as $k =&gt; $v){
<a name="l00546"></a>00546                                                 $pXml = isset($pXml) ? $pXml.$this-&gt;serialize_val($v,$k,<span class="keyword">false</span>,<span class="keyword">false</span>,<span class="keyword">false</span>,<span class="keyword">false</span>,$use) : $this-&gt;<a class="code" href="classnusoap__base.html#a60ee09e022c9270ea717783c32083d74">serialize_val</a>($v,$k,<span class="keyword">false</span>,<span class="keyword">false</span>,<span class="keyword">false</span>,<span class="keyword">false</span>,$use);
<a name="l00547"></a>00547                                         }
<a name="l00548"></a>00548                                 }
<a name="l00549"></a>00549                                 <span class="keywordflow">if</span>(isset($type) &amp;&amp; isset($type_prefix)){
<a name="l00550"></a>00550                                         $type_str = <span class="stringliteral">&quot; xsi:type=\&quot;$type_prefix:$type\&quot;&quot;</span>;
<a name="l00551"></a>00551                                 } <span class="keywordflow">else</span> {
<a name="l00552"></a>00552                                         $type_str = <span class="stringliteral">&#39;&#39;</span>;
<a name="l00553"></a>00553                                 }
<a name="l00554"></a>00554                                 <span class="keywordflow">if</span> ($use == <span class="stringliteral">&#39;literal&#39;</span>) {
<a name="l00555"></a>00555                                         $xml .= <span class="stringliteral">&quot;&lt;$name$xmlns$atts&gt;$pXml&lt;/$name&gt;&quot;</span>;
<a name="l00556"></a>00556                                 } <span class="keywordflow">else</span> {
<a name="l00557"></a>00557                                         $xml .= <span class="stringliteral">&quot;&lt;$name$xmlns$type_str$atts&gt;$pXml&lt;/$name&gt;&quot;</span>;
<a name="l00558"></a>00558                                 }
<a name="l00559"></a>00559                                 <span class="keywordflow">break</span>;
<a name="l00560"></a>00560                         <span class="keywordflow">break</span>;
<a name="l00561"></a>00561                         <span class="keywordflow">case</span> (is_array($val) || $type):
<a name="l00562"></a>00562                                 <span class="comment">// detect if struct or array</span>
<a name="l00563"></a>00563                                 $valueType = $this-&gt;<a class="code" href="classnusoap__base.html#ae592e8f651298d6b648590cf5eeafac9">isArraySimpleOrStruct</a>($val);
<a name="l00564"></a>00564                 <span class="keywordflow">if</span>($valueType==<span class="stringliteral">&#39;arraySimple&#39;</span> || preg_match(<span class="stringliteral">&#39;/^ArrayOf/&#39;</span>,$type)){
<a name="l00565"></a>00565                                         $this-&gt;<a class="code" href="classnusoap__base.html#a2ff2869a93609f3f282863a7273c26c1">debug</a>(<span class="stringliteral">&quot;serialize_val: serialize array&quot;</span>);
<a name="l00566"></a>00566                                         <a class="code" href="ocrad_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a> = 0;
<a name="l00567"></a>00567                                         <span class="keywordflow">if</span>(is_array($val) &amp;&amp; count($val)&gt; 0){
<a name="l00568"></a>00568                                                 <span class="keywordflow">foreach</span>($val as $v){
<a name="l00569"></a>00569                                 <span class="keywordflow">if</span>(is_object($v) &amp;&amp; get_class($v) ==  <span class="stringliteral">&#39;soapval&#39;</span>){
<a name="l00570"></a>00570                                                                 $tt_ns = $v-&gt;type_ns;
<a name="l00571"></a>00571                                                                 $tt = $v-&gt;type;
<a name="l00572"></a>00572                                                         } elseif (is_array($v)) {
<a name="l00573"></a>00573                                                                 $tt = $this-&gt;<a class="code" href="classnusoap__base.html#ae592e8f651298d6b648590cf5eeafac9">isArraySimpleOrStruct</a>($v);
<a name="l00574"></a>00574                                                         } <span class="keywordflow">else</span> {
<a name="l00575"></a>00575                                                                 $tt = gettype($v);
<a name="l00576"></a>00576                                 }
<a name="l00577"></a>00577                                                         $array_types[$tt] = 1;
<a name="l00578"></a>00578                                                         <span class="comment">// TODO: for literal, the name should be $name</span>
<a name="l00579"></a>00579                                                         $xml .= $this-&gt;<a class="code" href="classnusoap__base.html#a60ee09e022c9270ea717783c32083d74">serialize_val</a>($v,<span class="stringliteral">&#39;item&#39;</span>,<span class="keyword">false</span>,<span class="keyword">false</span>,<span class="keyword">false</span>,<span class="keyword">false</span>,$use);
<a name="l00580"></a>00580                                                         ++<a class="code" href="ocrad_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a>;
<a name="l00581"></a>00581                                                 }
<a name="l00582"></a>00582                                                 <span class="keywordflow">if</span>(count($array_types) &gt; 1){
<a name="l00583"></a>00583                                                         $array_typename = <span class="stringliteral">&#39;xsd:anyType&#39;</span>;
<a name="l00584"></a>00584                                                 } elseif(isset($tt) &amp;&amp; isset($this-&gt;typemap[$this-&gt;XMLSchemaVersion][$tt])) {
<a name="l00585"></a>00585                                                         <span class="keywordflow">if</span> ($tt == <span class="stringliteral">&#39;integer&#39;</span>) {
<a name="l00586"></a>00586                                                                 $tt = <span class="stringliteral">&#39;int&#39;</span>;
<a name="l00587"></a>00587                                                         }
<a name="l00588"></a>00588                                                         $array_typename = <span class="stringliteral">&#39;xsd:&#39;</span>.$tt;
<a name="l00589"></a>00589                                                 } elseif(isset($tt) &amp;&amp; $tt == <span class="stringliteral">&#39;arraySimple&#39;</span>){
<a name="l00590"></a>00590                                                         $array_typename = <span class="stringliteral">&#39;SOAP-ENC:Array&#39;</span>;
<a name="l00591"></a>00591                                                 } elseif(isset($tt) &amp;&amp; $tt == <span class="stringliteral">&#39;arrayStruct&#39;</span>){
<a name="l00592"></a>00592                                                         $array_typename = <span class="stringliteral">&#39;unnamed_struct_use_soapval&#39;</span>;
<a name="l00593"></a>00593                                                 } <span class="keywordflow">else</span> {
<a name="l00594"></a>00594                                                         <span class="comment">// if type is prefixed, create type prefix</span>
<a name="l00595"></a>00595                                                         <span class="keywordflow">if</span> ($tt_ns != <span class="stringliteral">&#39;&#39;</span> &amp;&amp; $tt_ns == $this-&gt;namespaces[<span class="stringliteral">&#39;xsd&#39;</span>]){
<a name="l00596"></a>00596                                                                  $array_typename = <span class="stringliteral">&#39;xsd:&#39;</span> . $tt;
<a name="l00597"></a>00597                                                         } elseif ($tt_ns) {
<a name="l00598"></a>00598                                                                 $tt_prefix = <span class="stringliteral">&#39;ns&#39;</span> . rand(1000, 9999);
<a name="l00599"></a>00599                                                                 $array_typename = <span class="stringliteral">&quot;$tt_prefix:$tt&quot;</span>;
<a name="l00600"></a>00600                                                                 $xmlns .= <span class="stringliteral">&quot; xmlns:$tt_prefix=\&quot;$tt_ns\&quot;&quot;</span>;
<a name="l00601"></a>00601                                                         } <span class="keywordflow">else</span> {
<a name="l00602"></a>00602                                                                 $array_typename = $tt;
<a name="l00603"></a>00603                                                         }
<a name="l00604"></a>00604                                                 }
<a name="l00605"></a>00605                                                 $array_type = <a class="code" href="ocrad_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a>;
<a name="l00606"></a>00606                                                 <span class="keywordflow">if</span> ($use == <span class="stringliteral">&#39;literal&#39;</span>) {
<a name="l00607"></a>00607                                                         $type_str = <span class="stringliteral">&#39;&#39;</span>;
<a name="l00608"></a>00608                                                 } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isset($type) &amp;&amp; isset($type_prefix)) {
<a name="l00609"></a>00609                                                         $type_str = <span class="stringliteral">&quot; xsi:type=\&quot;$type_prefix:$type\&quot;&quot;</span>;
<a name="l00610"></a>00610                                                 } <span class="keywordflow">else</span> {
<a name="l00611"></a>00611                                                         $type_str = <span class="stringliteral">&quot; xsi:type=\&quot;SOAP-ENC:Array\&quot; SOAP-ENC:arrayType=\&quot;&quot;</span>.$array_typename.<span class="stringliteral">&quot;[$array_type]\&quot;&quot;</span>;
<a name="l00612"></a>00612                                                 }
<a name="l00613"></a>00613                                         <span class="comment">// empty array</span>
<a name="l00614"></a>00614                                         } <span class="keywordflow">else</span> {
<a name="l00615"></a>00615                                                 <span class="keywordflow">if</span> ($use == <span class="stringliteral">&#39;literal&#39;</span>) {
<a name="l00616"></a>00616                                                         $type_str = <span class="stringliteral">&#39;&#39;</span>;
<a name="l00617"></a>00617                                                 } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isset($type) &amp;&amp; isset($type_prefix)) {
<a name="l00618"></a>00618                                                         $type_str = <span class="stringliteral">&quot; xsi:type=\&quot;$type_prefix:$type\&quot;&quot;</span>;
<a name="l00619"></a>00619                                                 } <span class="keywordflow">else</span> {
<a name="l00620"></a>00620                                                         $type_str = <span class="stringliteral">&quot; xsi:type=\&quot;SOAP-ENC:Array\&quot; SOAP-ENC:arrayType=\&quot;xsd:anyType[0]\&quot;&quot;</span>;
<a name="l00621"></a>00621                                                 }
<a name="l00622"></a>00622                                         }
<a name="l00623"></a>00623                                         <span class="comment">// TODO: for array in literal, there is no wrapper here</span>
<a name="l00624"></a>00624                                         $xml = <span class="stringliteral">&quot;&lt;$name$xmlns$type_str$atts&gt;&quot;</span>.$xml.<span class="stringliteral">&quot;&lt;/$name&gt;&quot;</span>;
<a name="l00625"></a>00625                                 } <span class="keywordflow">else</span> {
<a name="l00626"></a>00626                                         <span class="comment">// got a struct</span>
<a name="l00627"></a>00627                                         $this-&gt;<a class="code" href="classnusoap__base.html#a2ff2869a93609f3f282863a7273c26c1">debug</a>(<span class="stringliteral">&quot;serialize_val: serialize struct&quot;</span>);
<a name="l00628"></a>00628                                         <span class="keywordflow">if</span>(isset($type) &amp;&amp; isset($type_prefix)){
<a name="l00629"></a>00629                                                 $type_str = <span class="stringliteral">&quot; xsi:type=\&quot;$type_prefix:$type\&quot;&quot;</span>;
<a name="l00630"></a>00630                                         } <span class="keywordflow">else</span> {
<a name="l00631"></a>00631                                                 $type_str = <span class="stringliteral">&#39;&#39;</span>;
<a name="l00632"></a>00632                                         }
<a name="l00633"></a>00633                                         <span class="keywordflow">if</span> ($use == <span class="stringliteral">&#39;literal&#39;</span>) {
<a name="l00634"></a>00634                                                 $xml .= <span class="stringliteral">&quot;&lt;$name$xmlns$atts&gt;&quot;</span>;
<a name="l00635"></a>00635                                         } <span class="keywordflow">else</span> {
<a name="l00636"></a>00636                                                 $xml .= <span class="stringliteral">&quot;&lt;$name$xmlns$type_str$atts&gt;&quot;</span>;
<a name="l00637"></a>00637                                         }
<a name="l00638"></a>00638                                         <span class="keywordflow">foreach</span>($val as $k =&gt; $v){
<a name="l00639"></a>00639                                                 <span class="comment">// Apache Map</span>
<a name="l00640"></a>00640                                                 <span class="keywordflow">if</span> ($type == <span class="stringliteral">&#39;Map&#39;</span> &amp;&amp; $type_ns == <span class="stringliteral">&#39;http://xml.apache.org/xml-soap&#39;</span>) {
<a name="l00641"></a>00641                                                         $xml .= <span class="stringliteral">&#39;&lt;item&gt;&#39;</span>;
<a name="l00642"></a>00642                                                         $xml .= $this-&gt;<a class="code" href="classnusoap__base.html#a60ee09e022c9270ea717783c32083d74">serialize_val</a>($k,<span class="stringliteral">&#39;key&#39;</span>,<span class="keyword">false</span>,<span class="keyword">false</span>,<span class="keyword">false</span>,<span class="keyword">false</span>,$use);
<a name="l00643"></a>00643                                                         $xml .= $this-&gt;<a class="code" href="classnusoap__base.html#a60ee09e022c9270ea717783c32083d74">serialize_val</a>($v,<span class="stringliteral">&#39;value&#39;</span>,<span class="keyword">false</span>,<span class="keyword">false</span>,<span class="keyword">false</span>,<span class="keyword">false</span>,$use);
<a name="l00644"></a>00644                                                         $xml .= <span class="stringliteral">&#39;&lt;/item&gt;&#39;</span>;
<a name="l00645"></a>00645                                                 } <span class="keywordflow">else</span> {
<a name="l00646"></a>00646                                                         $xml .= $this-&gt;<a class="code" href="classnusoap__base.html#a60ee09e022c9270ea717783c32083d74">serialize_val</a>($v,$k,<span class="keyword">false</span>,<span class="keyword">false</span>,<span class="keyword">false</span>,<span class="keyword">false</span>,$use);
<a name="l00647"></a>00647                                                 }
<a name="l00648"></a>00648                                         }
<a name="l00649"></a>00649                                         $xml .= <span class="stringliteral">&quot;&lt;/$name&gt;&quot;</span>;
<a name="l00650"></a>00650                                 }
<a name="l00651"></a>00651                                 <span class="keywordflow">break</span>;
<a name="l00652"></a>00652                         <span class="keywordflow">default</span>:
<a name="l00653"></a>00653                                 $this-&gt;<a class="code" href="classnusoap__base.html#a2ff2869a93609f3f282863a7273c26c1">debug</a>(<span class="stringliteral">&quot;serialize_val: serialize unknown&quot;</span>);
<a name="l00654"></a>00654                                 $xml .= <span class="stringliteral">&#39;not detected, got &#39;</span>.gettype($val).<span class="stringliteral">&#39; for &#39;</span>.$val;
<a name="l00655"></a>00655                                 <span class="keywordflow">break</span>;
<a name="l00656"></a>00656                 }
<a name="l00657"></a>00657                 $this-&gt;<a class="code" href="classnusoap__base.html#a2ff2869a93609f3f282863a7273c26c1">debug</a>(<span class="stringliteral">&quot;serialize_val returning $xml&quot;</span>);
<a name="l00658"></a>00658                 <span class="keywordflow">return</span> $xml;
<a name="l00659"></a>00659         }
<a name="l00660"></a>00660 
<a name="l00673"></a><a class="code" href="classnusoap__base.html#a8940fff9aa5bc728be4fee5c5d319d5e">00673</a>     function <a class="code" href="classnusoap__base.html#a8940fff9aa5bc728be4fee5c5d319d5e">serializeEnvelope</a>($body,$headers=<span class="keyword">false</span>,<a class="code" href="classnusoap__base.html#a5d0c5f71681b592cb9b05898508c0b27">$namespaces</a>=array(),$style=<span class="stringliteral">&#39;rpc&#39;</span>,$use=<span class="stringliteral">&#39;encoded&#39;</span>,$encodingStyle=<span class="stringliteral">&#39;http://schemas.xmlsoap.org/soap/encoding/&#39;</span>){
<a name="l00674"></a>00674     <span class="comment">// TODO: add an option to automatically run utf8_encode on $body and $headers</span>
<a name="l00675"></a>00675     <span class="comment">// if $this-&gt;soap_defencoding is UTF-8.  Not doing this automatically allows</span>
<a name="l00676"></a>00676     <span class="comment">// one to send arbitrary UTF-8 characters, not just characters that map to ISO-8859-1</span>
<a name="l00677"></a>00677 
<a name="l00678"></a>00678         $this-&gt;<a class="code" href="classnusoap__base.html#a2ff2869a93609f3f282863a7273c26c1">debug</a>(<span class="stringliteral">&quot;In serializeEnvelope length=&quot;</span> . strlen($body) . <span class="stringliteral">&quot; body (max 1000 characters)=&quot;</span> . substr($body, 0, 1000) . <span class="stringliteral">&quot; style=$style use=$use encodingStyle=$encodingStyle&quot;</span>);
<a name="l00679"></a>00679         $this-&gt;<a class="code" href="classnusoap__base.html#a2ff2869a93609f3f282863a7273c26c1">debug</a>(<span class="stringliteral">&quot;headers:&quot;</span>);
<a name="l00680"></a>00680         $this-&gt;<a class="code" href="classnusoap__base.html#ac8304fa5d607d52124496ee242043f24">appendDebug</a>($this-&gt;<a class="code" href="classnusoap__base.html#ab5511c6c0e6767b3e8b0ee9cad826641">varDump</a>($headers));
<a name="l00681"></a>00681         $this-&gt;<a class="code" href="classnusoap__base.html#a2ff2869a93609f3f282863a7273c26c1">debug</a>(<span class="stringliteral">&quot;namespaces:&quot;</span>);
<a name="l00682"></a>00682         $this-&gt;<a class="code" href="classnusoap__base.html#ac8304fa5d607d52124496ee242043f24">appendDebug</a>($this-&gt;<a class="code" href="classnusoap__base.html#ab5511c6c0e6767b3e8b0ee9cad826641">varDump</a>(<a class="code" href="classnusoap__base.html#a5d0c5f71681b592cb9b05898508c0b27">$namespaces</a>));
<a name="l00683"></a>00683 
<a name="l00684"></a>00684         <span class="comment">// serialize namespaces</span>
<a name="l00685"></a>00685     $ns_string = <span class="stringliteral">&#39;&#39;</span>;
<a name="l00686"></a>00686         <span class="keywordflow">foreach</span>(array_merge($this-&gt;namespaces,<a class="code" href="classnusoap__base.html#a5d0c5f71681b592cb9b05898508c0b27">$namespaces</a>) as $k =&gt; $v){
<a name="l00687"></a>00687                 $ns_string .= <span class="stringliteral">&quot; xmlns:$k=\&quot;$v\&quot;&quot;</span>;
<a name="l00688"></a>00688         }
<a name="l00689"></a>00689         <span class="keywordflow">if</span>($encodingStyle) {
<a name="l00690"></a>00690                 $ns_string = <span class="stringliteral">&quot; SOAP-ENV:encodingStyle=\&quot;$encodingStyle\&quot;$ns_string&quot;</span>;
<a name="l00691"></a>00691         }
<a name="l00692"></a>00692 
<a name="l00693"></a>00693         <span class="comment">// serialize headers</span>
<a name="l00694"></a>00694         <span class="keywordflow">if</span>($headers){
<a name="l00695"></a>00695                 <span class="keywordflow">if</span> (is_array($headers)) {
<a name="l00696"></a>00696                         $xml = <span class="stringliteral">&#39;&#39;</span>;
<a name="l00697"></a>00697                         <span class="keywordflow">foreach</span> ($headers as $k =&gt; $v) {
<a name="l00698"></a>00698                                 <span class="keywordflow">if</span> (is_object($v) &amp;&amp; get_class($v) == <span class="stringliteral">&#39;soapval&#39;</span>) {
<a name="l00699"></a>00699                                         $xml .= $this-&gt;<a class="code" href="classnusoap__base.html#a60ee09e022c9270ea717783c32083d74">serialize_val</a>($v, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, $use);
<a name="l00700"></a>00700                                 } <span class="keywordflow">else</span> {
<a name="l00701"></a>00701                                         $xml .= $this-&gt;<a class="code" href="classnusoap__base.html#a60ee09e022c9270ea717783c32083d74">serialize_val</a>($v, $k, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, $use);
<a name="l00702"></a>00702                                 }
<a name="l00703"></a>00703                         }
<a name="l00704"></a>00704                         $headers = $xml;
<a name="l00705"></a>00705                         $this-&gt;<a class="code" href="classnusoap__base.html#a2ff2869a93609f3f282863a7273c26c1">debug</a>(<span class="stringliteral">&quot;In serializeEnvelope, serialized array of headers to $headers&quot;</span>);
<a name="l00706"></a>00706                 }
<a name="l00707"></a>00707                 $headers = <span class="stringliteral">&quot;&lt;SOAP-ENV:Header&gt;&quot;</span>.$headers.<span class="stringliteral">&quot;&lt;/SOAP-ENV:Header&gt;&quot;</span>;
<a name="l00708"></a>00708         }
<a name="l00709"></a>00709         <span class="comment">// serialize envelope</span>
<a name="l00710"></a>00710         <span class="keywordflow">return</span>
<a name="l00711"></a>00711         <span class="stringliteral">&#39;&lt;?xml version=&quot;1.0&quot; encoding=&quot;&#39;</span>.$this-&gt;soap_defencoding .<span class="stringliteral">&#39;&quot;?&#39;</span>.<span class="stringliteral">&quot;&gt;&quot;</span>.
<a name="l00712"></a>00712         <span class="stringliteral">&#39;&lt;SOAP-ENV:Envelope&#39;</span>.$ns_string.<span class="stringliteral">&quot;&gt;&quot;</span>.
<a name="l00713"></a>00713         $headers.
<a name="l00714"></a>00714         <span class="stringliteral">&quot;&lt;SOAP-ENV:Body&gt;&quot;</span>.
<a name="l00715"></a>00715                 $body.
<a name="l00716"></a>00716         <span class="stringliteral">&quot;&lt;/SOAP-ENV:Body&gt;&quot;</span>.
<a name="l00717"></a>00717         <span class="stringliteral">&quot;&lt;/SOAP-ENV:Envelope&gt;&quot;</span>;
<a name="l00718"></a>00718     }
<a name="l00719"></a>00719 
<a name="l00728"></a><a class="code" href="classnusoap__base.html#aa24aac949e13c048be010bd04e99968c">00728</a>     function <a class="code" href="classnusoap__base.html#aa24aac949e13c048be010bd04e99968c">formatDump</a>($str){
<a name="l00729"></a>00729                 $str = htmlspecialchars($str);
<a name="l00730"></a>00730                 <span class="keywordflow">return</span> nl2br($str);
<a name="l00731"></a>00731     }
<a name="l00732"></a>00732 
<a name="l00740"></a><a class="code" href="classnusoap__base.html#a25269fad36da0e8d23df0c865e0bd29e">00740</a>         function <a class="code" href="classnusoap__base.html#a25269fad36da0e8d23df0c865e0bd29e">contractQname</a>($qname){
<a name="l00741"></a>00741                 <span class="comment">// get element namespace</span>
<a name="l00742"></a>00742                 <span class="comment">//$this-&gt;xdebug(&quot;Contract $qname&quot;);</span>
<a name="l00743"></a>00743                 <span class="keywordflow">if</span> (strrpos($qname, <span class="charliteral">&#39;:&#39;</span>)) {
<a name="l00744"></a>00744                         <span class="comment">// get unqualified name</span>
<a name="l00745"></a>00745                         $name = substr($qname, strrpos($qname, <span class="charliteral">&#39;:&#39;</span>) + 1);
<a name="l00746"></a>00746                         <span class="comment">// get ns</span>
<a name="l00747"></a>00747                         $ns = substr($qname, 0, strrpos($qname, <span class="charliteral">&#39;:&#39;</span>));
<a name="l00748"></a>00748                         $p = $this-&gt;<a class="code" href="classnusoap__base.html#a5db1f5554874f5bd987760ab50d621ad">getPrefixFromNamespace</a>($ns);
<a name="l00749"></a>00749                         <span class="keywordflow">if</span> ($p) {
<a name="l00750"></a>00750                                 <span class="keywordflow">return</span> $p . <span class="charliteral">&#39;:&#39;</span> . $name;
<a name="l00751"></a>00751                         }
<a name="l00752"></a>00752                         <span class="keywordflow">return</span> $qname;
<a name="l00753"></a>00753                 } <span class="keywordflow">else</span> {
<a name="l00754"></a>00754                         <span class="keywordflow">return</span> $qname;
<a name="l00755"></a>00755                 }
<a name="l00756"></a>00756         }
<a name="l00757"></a>00757 
<a name="l00765"></a><a class="code" href="classnusoap__base.html#aaaec19feb99e1ddb9bb81fe8c49e74cb">00765</a>         function <a class="code" href="classnusoap__base.html#aaaec19feb99e1ddb9bb81fe8c49e74cb">expandQname</a>($qname){
<a name="l00766"></a>00766                 <span class="comment">// get element prefix</span>
<a name="l00767"></a>00767                 <span class="keywordflow">if</span>(strpos($qname,<span class="charliteral">&#39;:&#39;</span>) &amp;&amp; !preg_match(<span class="stringliteral">&#39;/^http:\/\//&#39;</span>,$qname)){
<a name="l00768"></a>00768                         <span class="comment">// get unqualified name</span>
<a name="l00769"></a>00769                         $name = substr(strstr($qname,<span class="charliteral">&#39;:&#39;</span>),1);
<a name="l00770"></a>00770                         <span class="comment">// get ns prefix</span>
<a name="l00771"></a>00771                         $prefix = substr($qname,0,strpos($qname,<span class="charliteral">&#39;:&#39;</span>));
<a name="l00772"></a>00772                         <span class="keywordflow">if</span>(isset($this-&gt;namespaces[$prefix])){
<a name="l00773"></a>00773                                 <span class="keywordflow">return</span> $this-&gt;namespaces[$prefix].<span class="charliteral">&#39;:&#39;</span>.$name;
<a name="l00774"></a>00774                         } <span class="keywordflow">else</span> {
<a name="l00775"></a>00775                                 <span class="keywordflow">return</span> $qname;
<a name="l00776"></a>00776                         }
<a name="l00777"></a>00777                 } <span class="keywordflow">else</span> {
<a name="l00778"></a>00778                         <span class="keywordflow">return</span> $qname;
<a name="l00779"></a>00779                 }
<a name="l00780"></a>00780         }
<a name="l00781"></a>00781 
<a name="l00790"></a><a class="code" href="classnusoap__base.html#ac9572b3c91c4c4830a678e8ac6d65495">00790</a>         function <a class="code" href="classnusoap__base.html#ac9572b3c91c4c4830a678e8ac6d65495">getLocalPart</a>($str){
<a name="l00791"></a>00791                 <span class="keywordflow">if</span>($sstr = strrchr($str,<span class="charliteral">&#39;:&#39;</span>)){
<a name="l00792"></a>00792                         <span class="comment">// get unqualified name</span>
<a name="l00793"></a>00793                         <span class="keywordflow">return</span> substr( $sstr, 1 );
<a name="l00794"></a>00794                 } <span class="keywordflow">else</span> {
<a name="l00795"></a>00795                         <span class="keywordflow">return</span> $str;
<a name="l00796"></a>00796                 }
<a name="l00797"></a>00797         }
<a name="l00798"></a>00798 
<a name="l00807"></a><a class="code" href="classnusoap__base.html#a03702b78e998ebfcd3522f5c2966e135">00807</a>         function <a class="code" href="classnusoap__base.html#a03702b78e998ebfcd3522f5c2966e135">getPrefix</a>($str){
<a name="l00808"></a>00808                 <span class="keywordflow">if</span>($pos = strrpos($str,<span class="charliteral">&#39;:&#39;</span>)){
<a name="l00809"></a>00809                         <span class="comment">// get prefix</span>
<a name="l00810"></a>00810                         <span class="keywordflow">return</span> substr($str,0,$pos);
<a name="l00811"></a>00811                 }
<a name="l00812"></a>00812                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00813"></a>00813         }
<a name="l00814"></a>00814 
<a name="l00822"></a><a class="code" href="classnusoap__base.html#a22bf4736eaf3260f6616d8927342a724">00822</a>         function <a class="code" href="classnusoap__base.html#a22bf4736eaf3260f6616d8927342a724">getNamespaceFromPrefix</a>($prefix){
<a name="l00823"></a>00823                 <span class="keywordflow">if</span> (isset($this-&gt;namespaces[$prefix])) {
<a name="l00824"></a>00824                         <span class="keywordflow">return</span> $this-&gt;namespaces[$prefix];
<a name="l00825"></a>00825                 }
<a name="l00826"></a>00826                 <span class="comment">//$this-&gt;setError(&quot;No namespace registered for prefix &#39;$prefix&#39;&quot;);</span>
<a name="l00827"></a>00827                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00828"></a>00828         }
<a name="l00829"></a>00829 
<a name="l00838"></a><a class="code" href="classnusoap__base.html#a5db1f5554874f5bd987760ab50d621ad">00838</a>         function <a class="code" href="classnusoap__base.html#a5db1f5554874f5bd987760ab50d621ad">getPrefixFromNamespace</a>($ns) {
<a name="l00839"></a>00839                 <span class="keywordflow">foreach</span> ($this-&gt;namespaces as $p =&gt; $n) {
<a name="l00840"></a>00840                         <span class="keywordflow">if</span> ($ns == $n || $ns == $p) {
<a name="l00841"></a>00841                             $this-&gt;usedNamespaces[$p] = $n;
<a name="l00842"></a>00842                                 <span class="keywordflow">return</span> $p;
<a name="l00843"></a>00843                         }
<a name="l00844"></a>00844                 }
<a name="l00845"></a>00845                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00846"></a>00846         }
<a name="l00847"></a>00847 
<a name="l00854"></a><a class="code" href="classnusoap__base.html#a1945b0481c5128c4126352f457a4c36a">00854</a>         function <a class="code" href="classnusoap__base.html#a1945b0481c5128c4126352f457a4c36a">getmicrotime</a>() {
<a name="l00855"></a>00855                 <span class="keywordflow">if</span> (function_exists(<span class="stringliteral">&#39;gettimeofday&#39;</span>)) {
<a name="l00856"></a>00856                         $tod = gettimeofday();
<a name="l00857"></a>00857                         $sec = $tod[<span class="stringliteral">&#39;sec&#39;</span>];
<a name="l00858"></a>00858                         $usec = $tod[<span class="stringliteral">&#39;usec&#39;</span>];
<a name="l00859"></a>00859                 } <span class="keywordflow">else</span> {
<a name="l00860"></a>00860                         $sec = time();
<a name="l00861"></a>00861                         $usec = 0;
<a name="l00862"></a>00862                 }
<a name="l00863"></a>00863                 <span class="keywordflow">return</span> strftime(<span class="stringliteral">&#39;%Y-%m-%d %H:%M:%S&#39;</span>, $sec) . <span class="charliteral">&#39;.&#39;</span> . sprintf(<span class="stringliteral">&#39;%06d&#39;</span>, $usec);
<a name="l00864"></a>00864         }
<a name="l00865"></a>00865 
<a name="l00873"></a><a class="code" href="classnusoap__base.html#ab5511c6c0e6767b3e8b0ee9cad826641">00873</a>     function <a class="code" href="classnusoap__base.html#ab5511c6c0e6767b3e8b0ee9cad826641">varDump</a>($data) {
<a name="l00874"></a>00874                 ob_start();
<a name="l00875"></a>00875                 var_dump($data);
<a name="l00876"></a>00876                 $ret_val = ob_get_contents();
<a name="l00877"></a>00877                 ob_end_clean();
<a name="l00878"></a>00878                 <span class="keywordflow">return</span> $ret_val;
<a name="l00879"></a>00879         }
<a name="l00880"></a>00880 
<a name="l00887"></a><a class="code" href="classnusoap__base.html#ac17fe327109103b6acd5fd5a66f8a016">00887</a>         function <a class="code" href="classnusoap__base.html#ac17fe327109103b6acd5fd5a66f8a016">__toString</a>() {
<a name="l00888"></a>00888                 <span class="keywordflow">return</span> $this-&gt;<a class="code" href="classnusoap__base.html#ab5511c6c0e6767b3e8b0ee9cad826641">varDump</a>($this);
<a name="l00889"></a>00889         }
<a name="l00890"></a>00890 }
<a name="l00891"></a>00891 
<a name="l00892"></a>00892 <span class="comment">// XML Schema Datatype Helper Functions</span>
<a name="l00893"></a>00893 
<a name="l00894"></a>00894 <span class="comment">//xsd:dateTime helpers</span>
<a name="l00895"></a>00895 
<a name="l00904"></a><a class="code" href="class_8nusoap__base_8php.html#ae9aac88f9bf83be961dd47d1b78b90d3">00904</a> function <a class="code" href="class_8nusoap__base_8php.html#ae9aac88f9bf83be961dd47d1b78b90d3">timestamp_to_iso8601</a>($timestamp,$utc=<span class="keyword">true</span>){
<a name="l00905"></a>00905         $datestr = date(<span class="stringliteral">&#39;Y-m-d\TH:i:sO&#39;</span>,$timestamp);
<a name="l00906"></a>00906         $pos = strrpos($datestr, <span class="stringliteral">&quot;+&quot;</span>);
<a name="l00907"></a>00907         <span class="keywordflow">if</span> ($pos === FALSE) {
<a name="l00908"></a>00908                 $pos = strrpos($datestr, <span class="stringliteral">&quot;-&quot;</span>);
<a name="l00909"></a>00909         }
<a name="l00910"></a>00910         <span class="keywordflow">if</span> ($pos !== FALSE) {
<a name="l00911"></a>00911                 <span class="keywordflow">if</span> (strlen($datestr) == $pos + 5) {
<a name="l00912"></a>00912                         $datestr = substr($datestr, 0, $pos + 3) . <span class="charliteral">&#39;:&#39;</span> . substr($datestr, -2);
<a name="l00913"></a>00913                 }
<a name="l00914"></a>00914         }
<a name="l00915"></a>00915         <span class="keywordflow">if</span>($utc){
<a name="l00916"></a>00916                 $pattern = <span class="charliteral">&#39;/&#39;</span>.
<a name="l00917"></a>00917                 <span class="stringliteral">&#39;([0-9]{4})-&#39;</span>.  <span class="comment">// centuries &amp; years CCYY-</span>
<a name="l00918"></a>00918                 <span class="stringliteral">&#39;([0-9]{2})-&#39;</span>.  <span class="comment">// months MM-</span>
<a name="l00919"></a>00919                 <span class="stringliteral">&#39;([0-9]{2})&#39;</span>.   <span class="comment">// days DD</span>
<a name="l00920"></a>00920                 <span class="charliteral">&#39;T&#39;</span>.                    <span class="comment">// separator T</span>
<a name="l00921"></a>00921                 <span class="stringliteral">&#39;([0-9]{2}):&#39;</span>.  <span class="comment">// hours hh:</span>
<a name="l00922"></a>00922                 <span class="stringliteral">&#39;([0-9]{2}):&#39;</span>.  <span class="comment">// minutes mm:</span>
<a name="l00923"></a>00923                 <span class="stringliteral">&#39;([0-9]{2})(\.[0-9]*)?&#39;</span>. <span class="comment">// seconds ss.ss...</span>
<a name="l00924"></a>00924                 <span class="stringliteral">&#39;(Z|[+\-][0-9]{2}:?[0-9]{2})?&#39;</span>. <span class="comment">// Z to indicate UTC, -/+HH:MM:SS.SS... for local tz&#39;s</span>
<a name="l00925"></a>00925                 <span class="charliteral">&#39;/&#39;</span>;
<a name="l00926"></a>00926 
<a name="l00927"></a>00927                 <span class="keywordflow">if</span>(preg_match($pattern,$datestr,$regs)){
<a name="l00928"></a>00928                         <span class="keywordflow">return</span> sprintf(<span class="stringliteral">&#39;%04d-%02d-%02dT%02d:%02d:%02dZ&#39;</span>,$regs[1],$regs[2],$regs[3],$regs[4],$regs[5],$regs[6]);
<a name="l00929"></a>00929                 }
<a name="l00930"></a>00930                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00931"></a>00931         } <span class="keywordflow">else</span> {
<a name="l00932"></a>00932                 <span class="keywordflow">return</span> $datestr;
<a name="l00933"></a>00933         }
<a name="l00934"></a>00934 }
<a name="l00935"></a>00935 
<a name="l00943"></a><a class="code" href="class_8nusoap__base_8php.html#a7458f4fe2e94892e63804807994fb5b9">00943</a> function <a class="code" href="class_8nusoap__base_8php.html#a7458f4fe2e94892e63804807994fb5b9">iso8601_to_timestamp</a>($datestr){
<a name="l00944"></a>00944         $pattern = <span class="charliteral">&#39;/&#39;</span>.
<a name="l00945"></a>00945         <span class="stringliteral">&#39;([0-9]{4})-&#39;</span>.  <span class="comment">// centuries &amp; years CCYY-</span>
<a name="l00946"></a>00946         <span class="stringliteral">&#39;([0-9]{2})-&#39;</span>.  <span class="comment">// months MM-</span>
<a name="l00947"></a>00947         <span class="stringliteral">&#39;([0-9]{2})&#39;</span>.   <span class="comment">// days DD</span>
<a name="l00948"></a>00948         <span class="charliteral">&#39;T&#39;</span>.                    <span class="comment">// separator T</span>
<a name="l00949"></a>00949         <span class="stringliteral">&#39;([0-9]{2}):&#39;</span>.  <span class="comment">// hours hh:</span>
<a name="l00950"></a>00950         <span class="stringliteral">&#39;([0-9]{2}):&#39;</span>.  <span class="comment">// minutes mm:</span>
<a name="l00951"></a>00951         <span class="stringliteral">&#39;([0-9]{2})(\.[0-9]+)?&#39;</span>. <span class="comment">// seconds ss.ss...</span>
<a name="l00952"></a>00952         <span class="stringliteral">&#39;(Z|[+\-][0-9]{2}:?[0-9]{2})?&#39;</span>. <span class="comment">// Z to indicate UTC, -/+HH:MM:SS.SS... for local tz&#39;s</span>
<a name="l00953"></a>00953         <span class="charliteral">&#39;/&#39;</span>;
<a name="l00954"></a>00954         <span class="keywordflow">if</span>(preg_match($pattern,$datestr,$regs)){
<a name="l00955"></a>00955                 <span class="comment">// not utc</span>
<a name="l00956"></a>00956                 <span class="keywordflow">if</span>($regs[8] != <span class="charliteral">&#39;Z&#39;</span>){
<a name="l00957"></a>00957                         $op = substr($regs[8],0,1);
<a name="l00958"></a>00958                         $h = substr($regs[8],1,2);
<a name="l00959"></a>00959                         $m = substr($regs[8],strlen($regs[8])-2,2);
<a name="l00960"></a>00960                         <span class="keywordflow">if</span>($op == <span class="charliteral">&#39;-&#39;</span>){
<a name="l00961"></a>00961                                 $regs[4] = $regs[4] + $h;
<a name="l00962"></a>00962                                 $regs[5] = $regs[5] + $m;
<a name="l00963"></a>00963                         } elseif($op == <span class="charliteral">&#39;+&#39;</span>){
<a name="l00964"></a>00964                                 $regs[4] = $regs[4] - $h;
<a name="l00965"></a>00965                                 $regs[5] = $regs[5] - $m;
<a name="l00966"></a>00966                         }
<a name="l00967"></a>00967                 }
<a name="l00968"></a>00968                 <span class="keywordflow">return</span> gmmktime($regs[4], $regs[5], $regs[6], $regs[2], $regs[3], $regs[1]);
<a name="l00969"></a>00969 <span class="comment">//              return strtotime(&quot;$regs[1]-$regs[2]-$regs[3] $regs[4]:$regs[5]:$regs[6]Z&quot;);</span>
<a name="l00970"></a>00970         } <span class="keywordflow">else</span> {
<a name="l00971"></a>00971                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00972"></a>00972         }
<a name="l00973"></a>00973 }
<a name="l00974"></a>00974 
<a name="l00982"></a><a class="code" href="class_8nusoap__base_8php.html#a0405bf74776f57039c31a3f01fd48a29">00982</a> function <a class="code" href="class_8nusoap__base_8php.html#a0405bf74776f57039c31a3f01fd48a29">usleepWindows</a>($usec)
<a name="l00983"></a>00983 {
<a name="l00984"></a>00984         $start = gettimeofday();
<a name="l00985"></a>00985         
<a name="l00986"></a>00986         <span class="keywordflow">do</span>
<a name="l00987"></a>00987         {
<a name="l00988"></a>00988                 $stop = gettimeofday();
<a name="l00989"></a>00989                 $timePassed = 1000000 * ($stop[<span class="stringliteral">&#39;sec&#39;</span>] - $start[<span class="stringliteral">&#39;sec&#39;</span>])
<a name="l00990"></a>00990                 + $stop[<span class="stringliteral">&#39;usec&#39;</span>] - $start[<span class="stringliteral">&#39;usec&#39;</span>];
<a name="l00991"></a>00991         }
<a name="l00992"></a>00992         <span class="keywordflow">while</span> ($timePassed &lt; $usec);
<a name="l00993"></a>00993 }
<a name="l00994"></a>00994 
<a name="l00995"></a>00995 
<a name="l00996"></a>00996 ?&gt;
</pre></div></div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address style="text-align: right;"><small>Generated on Wed Dec 1 11:39:30 2010 for DAEDrupalInterface by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
