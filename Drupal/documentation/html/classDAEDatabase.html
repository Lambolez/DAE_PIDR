<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>DAEDrupalInterface: DAEDatabase Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">DAEDrupalInterface
   &#160;<span id="projectnumber">1.0</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">DAEDatabase Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Generic class, providing all database interaction functions.  
 <a href="classDAEDatabase.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for DAEDatabase:</div>
<div class="dyncontent">
<div class="center"><img src="classDAEDatabase__inherit__graph.png" border="0" usemap="#DAEDatabase_inherit__map" alt="Inheritance graph"/></div>
<map name="DAEDatabase_inherit__map" id="DAEDatabase_inherit__map">
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classDAEDatabase-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae2b10d8b5dc9667d6f0051e01d64fb66"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDAEDatabase.html#ae2b10d8b5dc9667d6f0051e01d64fb66">__construct</a> ()</td></tr>
<tr class="memdesc:ae2b10d8b5dc9667d6f0051e01d64fb66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#ae2b10d8b5dc9667d6f0051e01d64fb66"></a><br/></td></tr>
<tr class="memitem:aa1a1292d38a78a6c69d43d5ef0a0561c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDAEDatabase.html#aa1a1292d38a78a6c69d43d5ef0a0561c">getConn</a> ()</td></tr>
<tr class="memdesc:aa1a1292d38a78a6c69d43d5ef0a0561c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current connection identifier <em>$this-&gt;conn</em>.  <a href="#aa1a1292d38a78a6c69d43d5ef0a0561c"></a><br/></td></tr>
<tr class="memitem:aa83ea7b0e6d7b6224aceedfb3b6a0c3f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDAEDatabase.html#aa83ea7b0e6d7b6224aceedfb3b6a0c3f">getSafeConn</a> ()</td></tr>
<tr class="memdesc:aa83ea7b0e6d7b6224aceedfb3b6a0c3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current safe connection identifier <em>$this-&gt;conn</em>.  <a href="#aa83ea7b0e6d7b6224aceedfb3b6a0c3f"></a><br/></td></tr>
<tr class="memitem:ada2e83504493b36f1ebd3cd3a0ebfe07"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDAEDatabase.html#ada2e83504493b36f1ebd3cd3a0ebfe07">i</a> ($query, $variables=-1)</td></tr>
<tr class="memdesc:ada2e83504493b36f1ebd3cd3a0ebfe07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transparent call to subclass function <em>q( )</em> using the same parameters. Return value is discarded.  <a href="#ada2e83504493b36f1ebd3cd3a0ebfe07"></a><br/></td></tr>
<tr class="memitem:a977b235ab31af8f4373d247cf68f598a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDAEDatabase.html#a977b235ab31af8f4373d247cf68f598a">r</a> ($query, $variables=-1)</td></tr>
<tr class="memdesc:a977b235ab31af8f4373d247cf68f598a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transparent call to subclass function <em>q( )</em> using the same parameters. Return single row from result.  <a href="#a977b235ab31af8f4373d247cf68f598a"></a><br/></td></tr>
<tr class="memitem:a6c37c6235a5113e072ae0e6e3282e9f4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDAEDatabase.html#a6c37c6235a5113e072ae0e6e3282e9f4">num_fields</a> ($query)</td></tr>
<tr class="memdesc:a6c37c6235a5113e072ae0e6e3282e9f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transparent call to a DMBS specific version returning the number of fields returned by a query.  <a href="#a6c37c6235a5113e072ae0e6e3282e9f4"></a><br/></td></tr>
<tr class="memitem:a948ccf0dbd20eae4f65ec411188fad7d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDAEDatabase.html#a948ccf0dbd20eae4f65ec411188fad7d">field_name</a> ($query, $<a class="el" href="classDAEDatabase.html#ada2e83504493b36f1ebd3cd3a0ebfe07">i</a>)</td></tr>
<tr class="memdesc:a948ccf0dbd20eae4f65ec411188fad7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transparent call to a DMBS specific version returning the name of a field returned by a query.  <a href="#a948ccf0dbd20eae4f65ec411188fad7d"></a><br/></td></tr>
<tr class="memitem:a0d50451d0ad1fed9e06f3da8ec29df0f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDAEDatabase.html#a0d50451d0ad1fed9e06f3da8ec29df0f">fetch_row</a> ($query)</td></tr>
<tr class="memdesc:a0d50451d0ad1fed9e06f3da8ec29df0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transparent call to a DMBS specific version returning the current row of a query result.  <a href="#a0d50451d0ad1fed9e06f3da8ec29df0f"></a><br/></td></tr>
<tr class="memitem:a4d8503e3d2baa52aea3af8a7b3695fc8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDAEDatabase.html#a4d8503e3d2baa52aea3af8a7b3695fc8">convertDateFormat</a> ($format)</td></tr>
<tr class="memdesc:a4d8503e3d2baa52aea3af8a7b3695fc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a date formatting string from the standard Oracle syntax to the effecively used DBMS syntax.  <a href="#a4d8503e3d2baa52aea3af8a7b3695fc8"></a><br/></td></tr>
<tr class="memitem:ae453509856f4fbfce41e1edbc3b774bd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDAEDatabase.html#ae453509856f4fbfce41e1edbc3b774bd">dateFormat</a> ($fields, $format)</td></tr>
<tr class="memdesc:ae453509856f4fbfce41e1edbc3b774bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generic function that builds upon overloading by inheriting classes to generate a date conversion query that is complatible by the underlying DMBS.  <a href="#ae453509856f4fbfce41e1edbc3b774bd"></a><br/></td></tr>
<tr class="memitem:ad599e9ca84ff4a553312b1e4f1a02e51"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDAEDatabase.html#ad599e9ca84ff4a553312b1e4f1a02e51">getDataItemType</a> ($id)</td></tr>
<tr class="memdesc:ad599e9ca84ff4a553312b1e4f1a02e51"><td class="mdescLeft">&#160;</td><td class="mdescRight">SQL query returning type of a given dataitem id.  <a href="#ad599e9ca84ff4a553312b1e4f1a02e51"></a><br/></td></tr>
<tr class="memitem:a38ebc881b723149be5d415cdfbfbdce1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDAEDatabase.html#a38ebc881b723149be5d415cdfbfbdce1">getAlgName</a> ($id)</td></tr>
<tr class="memdesc:a38ebc881b723149be5d415cdfbfbdce1"><td class="mdescLeft">&#160;</td><td class="mdescRight">SQL query returning the name of an algorithm with a given id.  <a href="#a38ebc881b723149be5d415cdfbfbdce1"></a><br/></td></tr>
<tr class="memitem:a662194130e41c09b93bc47d8f57ef731"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDAEDatabase.html#a662194130e41c09b93bc47d8f57ef731">checkAlgExists</a> ($id)</td></tr>
<tr class="memdesc:a662194130e41c09b93bc47d8f57ef731"><td class="mdescLeft">&#160;</td><td class="mdescRight">SQL query checking whether a given algorithm id exists.  <a href="#a662194130e41c09b93bc47d8f57ef731"></a><br/></td></tr>
<tr class="memitem:a26b603d4859fce8fe482c04e89543266"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDAEDatabase.html#a26b603d4859fce8fe482c04e89543266">checkConcurrentRuns</a> ()</td></tr>
<tr class="memdesc:a26b603d4859fce8fe482c04e89543266"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether the current Drupal user is under his/her quota of allowed concerrent algorithm runs.  <a href="#a26b603d4859fce8fe482c04e89543266"></a><br/></td></tr>
<tr class="memitem:a213f2f7d44584493a06b09b46dd57312"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDAEDatabase.html#a213f2f7d44584493a06b09b46dd57312">checkDataSetHasChildren</a> ($id)</td></tr>
<tr class="memitem:a804701ae035bee678ed0791259b0e404"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDAEDatabase.html#a804701ae035bee678ed0791259b0e404">runElapsedTime</a> ($run)</td></tr>
<tr class="memitem:a9b8d3246d2c170ff354f0106060ef894"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDAEDatabase.html#a9b8d3246d2c170ff354f0106060ef894">runLength</a> ($run)</td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a337a85127a39afa560c95b6b7d44562a"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDAEDatabase.html#a337a85127a39afa560c95b6b7d44562a">getDAEDatabase</a> ()</td></tr>
<tr class="memdesc:a337a85127a39afa560c95b6b7d44562a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the current active Database or creates one if it doesn't exist (Singleton Design Pattern)  <a href="#a337a85127a39afa560c95b6b7d44562a"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a71533ddbb5392696643c5ad784601ec3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDAEDatabase.html#a71533ddbb5392696643c5ad784601ec3">$dbmsType</a></td></tr>
<tr class="memdesc:a71533ddbb5392696643c5ad784601ec3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Database Management System used.  <a href="#a71533ddbb5392696643c5ad784601ec3"></a><br/></td></tr>
<tr class="memitem:a5e4dc122af6e5efc0f8e142b2e70ceee"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDAEDatabase.html#a5e4dc122af6e5efc0f8e142b2e70ceee">$defaultSysdateString</a> = 'SYSDATE'</td></tr>
<tr class="memdesc:a5e4dc122af6e5efc0f8e142b2e70ceee"><td class="mdescLeft">&#160;</td><td class="mdescRight">String representing the database system date variable or function.  <a href="#a5e4dc122af6e5efc0f8e142b2e70ceee"></a><br/></td></tr>
<tr class="memitem:a2d6d68ca427ee99ab2e509c04e0688f5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDAEDatabase.html#a2d6d68ca427ee99ab2e509c04e0688f5">$sysdateString</a> = 'SYSDATE'</td></tr>
<tr class="memdesc:a2d6d68ca427ee99ab2e509c04e0688f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">String representing the database system date variable or function.  <a href="#a2d6d68ca427ee99ab2e509c04e0688f5"></a><br/></td></tr>
<tr class="memitem:a63b5d5d7d66803c79095e30fa0099013"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDAEDatabase.html#a63b5d5d7d66803c79095e30fa0099013">$dateConversionString</a> = 'to_char'</td></tr>
<tr class="memdesc:a63b5d5d7d66803c79095e30fa0099013"><td class="mdescLeft">&#160;</td><td class="mdescRight">Database function providing conversion from a 'Date' format to a 'String' format (DBMS dependant)  <a href="#a63b5d5d7d66803c79095e30fa0099013"></a><br/></td></tr>
<tr class="memitem:a8533c60daaab3db375580d8e4607facc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDAEDatabase.html#a8533c60daaab3db375580d8e4607facc">$timestampFormat</a> = 'd-M-Y h:i:s A'</td></tr>
<tr class="memdesc:a8533c60daaab3db375580d8e4607facc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Conversion parameters for 'Date' to 'String' (DBMS dependant)  <a href="#a8533c60daaab3db375580d8e4607facc"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a32d61c00464ee9dead0fce8e312fd274"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDAEDatabase.html#a32d61c00464ee9dead0fce8e312fd274">$conn</a></td></tr>
<tr class="memdesc:a32d61c00464ee9dead0fce8e312fd274"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connection identifier.  <a href="#a32d61c00464ee9dead0fce8e312fd274"></a><br/></td></tr>
<tr class="memitem:aaf0713c91fa653fdd0ffeb246a7ea3b8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDAEDatabase.html#aaf0713c91fa653fdd0ffeb246a7ea3b8">$user</a></td></tr>
<tr class="memdesc:aaf0713c91fa653fdd0ffeb246a7ea3b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Database connection user name.  <a href="#aaf0713c91fa653fdd0ffeb246a7ea3b8"></a><br/></td></tr>
<tr class="memitem:a27ce60693b0f5f1d0b3c1bb19176f216"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDAEDatabase.html#a27ce60693b0f5f1d0b3c1bb19176f216">$pass</a></td></tr>
<tr class="memdesc:a27ce60693b0f5f1d0b3c1bb19176f216"><td class="mdescLeft">&#160;</td><td class="mdescRight">Database connection user password.  <a href="#a27ce60693b0f5f1d0b3c1bb19176f216"></a><br/></td></tr>
<tr class="memitem:a4f1db597ef8b33fd1b6a4d83dea5d533"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDAEDatabase.html#a4f1db597ef8b33fd1b6a4d83dea5d533">$safe_conn</a></td></tr>
<tr class="memdesc:a4f1db597ef8b33fd1b6a4d83dea5d533"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connection identifier for safe connexions.  <a href="#a4f1db597ef8b33fd1b6a4d83dea5d533"></a><br/></td></tr>
<tr class="memitem:a6adf3b21bd6707078baea8ec9a57d3b5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDAEDatabase.html#a6adf3b21bd6707078baea8ec9a57d3b5">$ro_user</a></td></tr>
<tr class="memdesc:a6adf3b21bd6707078baea8ec9a57d3b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Database read-only connection user name.  <a href="#a6adf3b21bd6707078baea8ec9a57d3b5"></a><br/></td></tr>
<tr class="memitem:a5c5c6bebb86eb1cabc57db282b367f7d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDAEDatabase.html#a5c5c6bebb86eb1cabc57db282b367f7d">$ro_pass</a></td></tr>
<tr class="memdesc:a5c5c6bebb86eb1cabc57db282b367f7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Database read-only connection user password.  <a href="#a5c5c6bebb86eb1cabc57db282b367f7d"></a><br/></td></tr>
<tr class="memitem:aec9d90d384a0009e50dc3a188f6cf138"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDAEDatabase.html#aec9d90d384a0009e50dc3a188f6cf138">$host</a></td></tr>
<tr class="memdesc:aec9d90d384a0009e50dc3a188f6cf138"><td class="mdescLeft">&#160;</td><td class="mdescRight">Database hostname.  <a href="#aec9d90d384a0009e50dc3a188f6cf138"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:a9833ee1433ccc050abb31bbdbc580f4b"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDAEDatabase.html#a9833ee1433ccc050abb31bbdbc580f4b">$database</a> = null</td></tr>
<tr class="memdesc:a9833ee1433ccc050abb31bbdbc580f4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Singleton Pattern.  <a href="#a9833ee1433ccc050abb31bbdbc580f4b"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Generic class, providing all database interaction functions. </p>
<p>This class is intended to be a single-point access to any kind of DBMS. It is currently extendended by inheritance to function with <a class="el" href="classDAEOracleDatabase.html">Oracle</a> and <a class="el" href="classDAEMySQLDatabase.html">MySQL</a>.</p>
<p>The class is implemented as a <a href="http://en.wikipedia.org/wiki/Singleton_pattern">Singleton Design Pattern</a>. It is therefore guaranteed to have only a single instance at one time.</p>
<dl class="section author"><dt>Author:</dt><dd>Bart Lamiroy <a href="#" onclick="location.href='mai'+'lto:'+'lam'+'ir'+'oy@'+'cs'+'e.l'+'eh'+'igh'+'.e'+'du'; return false;">lamir<span style="display: none;">.nosp@m.</span>oy@c<span style="display: none;">.nosp@m.</span>se.le<span style="display: none;">.nosp@m.</span>high<span style="display: none;">.nosp@m.</span>.edu</a> </dd></dl>

<p>Definition at line <a class="el" href="daedatabase__db_8inc_source.html#l00069">69</a> of file <a class="el" href="daedatabase__db_8inc_source.html">daedatabase_db.inc</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ae2b10d8b5dc9667d6f0051e01d64fb66"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDAEDatabase.html#ae2b10d8b5dc9667d6f0051e01d64fb66">DAEDatabase::__construct</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor. </p>
<p>Retrieves the Drupal the following global variables:</p>
<ul>
<li><em>dae_db_user:</em> affected to <em>$this-&gt;user</em> </li>
<li><em>dae-db_pass</em>: affected to <em>$this-&gt;pass</em> </li>
<li><em>dae-db_server</em>: affected to <em>$this-&gt;host</em> </li>
</ul>
<p><em>$this-&gt;dbmsType</em> is set to blank. </p>

<p>Reimplemented in <a class="el" href="classDAEOracleDatabase.html#af04eaa8e7869415f74123c3891808443">DAEOracleDatabase</a>, and <a class="el" href="classDAEMySQLDatabase.html#a60e8146dec57232fa2f27106dba8d5a1">DAEMySQLDatabase</a>.</p>

<p>Definition at line <a class="el" href="daedatabase__db_8inc_source.html#l00105">105</a> of file <a class="el" href="daedatabase__db_8inc_source.html">daedatabase_db.inc</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a662194130e41c09b93bc47d8f57ef731"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDAEDatabase.html#a662194130e41c09b93bc47d8f57ef731">DAEDatabase::checkAlgExists</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>SQL query checking whether a given algorithm id exists. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">$id</td><td>Database id number supposedly from <em>algorithm</em> table. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd><em>true</em> if an algorithm with the given <em>$id</em> exists, <em>false</em> otherwise.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000033">Todo:</a></b></dt><dd>This function is DAE Data Model dependant and should be moved to a more specific file. </dd></dl>

<p>Definition at line <a class="el" href="daedatabase__db_8inc_source.html#l00347">347</a> of file <a class="el" href="daedatabase__db_8inc_source.html">daedatabase_db.inc</a>.</p>

</div>
</div>
<a class="anchor" id="a26b603d4859fce8fe482c04e89543266"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDAEDatabase.html#a26b603d4859fce8fe482c04e89543266">DAEDatabase::checkConcurrentRuns</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Checks whether the current Drupal user is under his/her quota of allowed concerrent algorithm runs. </p>
<dl class="section return"><dt>Returns:</dt><dd><em>true</em> if the current Drupal user can launch at least one more algorithm run, <em>false</em> otherwise.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000034">Todo:</a></b></dt><dd>This function is DAE Data Model dependant and should be moved to a more specific file. </dd></dl>

<p>Definition at line <a class="el" href="daedatabase__db_8inc_source.html#l00364">364</a> of file <a class="el" href="daedatabase__db_8inc_source.html">daedatabase_db.inc</a>.</p>

<p>References <a class="el" href="daedatabase__db_8inc_source.html#l00072">$user</a>, and <a class="el" href="dae__data__person_8inc_source.html#l00055">getPID()</a>.</p>

</div>
</div>
<a class="anchor" id="a213f2f7d44584493a06b09b46dd57312"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDAEDatabase.html#a213f2f7d44584493a06b09b46dd57312">DAEDatabase::checkDataSetHasChildren</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Checks whether a Dataset contains sub-datasets (children).</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">$id</td><td>Dataset database id </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd><em>true</em> if the dataset with given id is associated to another dataset through the <em>ASSOCIATE_DATASET</em> table, <em>false</em> otherwise</dd></dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000008">Bug:</a></b></dt><dd>This function ignores the <em>TYPE</em> field of the <em>ASSOCIATE_DATASET</em> table, making the assumption that all associations are one-way inclusions. </dd></dl>

<p>Definition at line <a class="el" href="daedatabase__db_8inc_source.html#l00387">387</a> of file <a class="el" href="daedatabase__db_8inc_source.html">daedatabase_db.inc</a>.</p>

</div>
</div>
<a class="anchor" id="a4d8503e3d2baa52aea3af8a7b3695fc8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDAEDatabase.html#a4d8503e3d2baa52aea3af8a7b3695fc8">DAEDatabase::convertDateFormat</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>format</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Converts a date formatting string from the standard Oracle syntax to the effecively used DBMS syntax. </p>
<p>This function is supposed to be overloaded by inheriting classes.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">$format</td><td>the Oracle syntax format string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>a format string in the appropriate syntax. This string contains embedded beginning and end quotes. </dd></dl>

<p>Reimplemented in <a class="el" href="classDAEMySQLDatabase.html#a5ba6527bea26877dd6124889835eb1a3">DAEMySQLDatabase</a>.</p>

<p>Definition at line <a class="el" href="daedatabase__db_8inc_source.html#l00269">269</a> of file <a class="el" href="daedatabase__db_8inc_source.html">daedatabase_db.inc</a>.</p>

<p>Referenced by <a class="el" href="daedatabase__db_8inc_source.html#l00287">dateFormat()</a>.</p>

</div>
</div>
<a class="anchor" id="ae453509856f4fbfce41e1edbc3b774bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDAEDatabase.html#ae453509856f4fbfce41e1edbc3b774bd">DAEDatabase::dateFormat</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fields</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>format</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Generic function that builds upon overloading by inheriting classes to generate a date conversion query that is complatible by the underlying DMBS. </p>
<p>The query is supposed to be in the form of <em>F</em>($fields, $format) like <em>to_char</em>(SYSDATE,"MON DD"). This function will replace:</p>
<ul>
<li>the standard conversion function name by the overridden function name<ul>
<li>convert SYSDATE references</li>
</ul>
</li>
<li>replace Oracle syntax with the correct format string syntax</li>
</ul>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">$fields</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">$format</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>the DMBS compliant SQL query for date conversion </dd></dl>

<p>Definition at line <a class="el" href="daedatabase__db_8inc_source.html#l00287">287</a> of file <a class="el" href="daedatabase__db_8inc_source.html">daedatabase_db.inc</a>.</p>

<p>References <a class="el" href="daedatabase__db_8inc_source.html#l00269">convertDateFormat()</a>.</p>

<p>Referenced by <a class="el" href="daedatabase__db_8inc_source.html#l00398">runElapsedTime()</a>, and <a class="el" href="daedatabase__db_8inc_source.html#l00424">runLength()</a>.</p>

</div>
</div>
<a class="anchor" id="a0d50451d0ad1fed9e06f3da8ec29df0f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDAEDatabase.html#a0d50451d0ad1fed9e06f3da8ec29df0f">DAEDatabase::fetch_row</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>query</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Transparent call to a DMBS specific version returning the current row of a query result. </p>
<p>This function should be overloaded by deriving classes Each call is supposed to position the current row to the next row.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">$query</td><td>the query that was issued (not the SQL string, but the DBMS-specific structure. e.g. 'ressource') </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>the current row of the query result </dd></dl>

<p>Reimplemented in <a class="el" href="classDAEOracleDatabase.html#a041b4fbdd6b9b9ed1677b5c8dcac3b2d">DAEOracleDatabase</a>, and <a class="el" href="classDAEMySQLDatabase.html#aa2213f62e43288d86b3eab80f5bf68d0">DAEMySQLDatabase</a>.</p>

<p>Definition at line <a class="el" href="daedatabase__db_8inc_source.html#l00254">254</a> of file <a class="el" href="daedatabase__db_8inc_source.html">daedatabase_db.inc</a>.</p>

<p>References <a class="el" href="daedatabase__db_8inc_source.html#l00978">databaseDebugMessage()</a>.</p>

</div>
</div>
<a class="anchor" id="a948ccf0dbd20eae4f65ec411188fad7d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDAEDatabase.html#a948ccf0dbd20eae4f65ec411188fad7d">DAEDatabase::field_name</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Transparent call to a DMBS specific version returning the name of a field returned by a query. </p>
<p>This function should be overloaded by deriving classes Fields are supposed to be numbered starting from 0.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">$query</td><td>the query that was issued (not the SQL string, but the DBMS-specific structure. e.g. 'ressource') </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">$i</td><td>index of the column the field name is to be returned </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>the name of field number <em>$i</em> in query <em>$query</em>. </dd></dl>

<p>Reimplemented in <a class="el" href="classDAEOracleDatabase.html#afc4d0cb317ad44b0a76ab07e7ff956bb">DAEOracleDatabase</a>, and <a class="el" href="classDAEMySQLDatabase.html#a9982acb2805b8c7d3c45b2b631c93e04">DAEMySQLDatabase</a>.</p>

<p>Definition at line <a class="el" href="daedatabase__db_8inc_source.html#l00239">239</a> of file <a class="el" href="daedatabase__db_8inc_source.html">daedatabase_db.inc</a>.</p>

<p>References <a class="el" href="daedatabase__db_8inc_source.html#l00978">databaseDebugMessage()</a>.</p>

</div>
</div>
<a class="anchor" id="a38ebc881b723149be5d415cdfbfbdce1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDAEDatabase.html#a38ebc881b723149be5d415cdfbfbdce1">DAEDatabase::getAlgName</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>SQL query returning the name of an algorithm with a given id. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">$id</td><td>Database id number from <em>algorithm</em> table. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>name of <em>$id</em> in <em>algorithm</em> table or <em>false</em> if query did not succeed.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000032">Todo:</a></b></dt><dd>This function is DAE Data Model dependant and should be moved to a more specific file. </dd></dl>

<p>Definition at line <a class="el" href="daedatabase__db_8inc_source.html#l00327">327</a> of file <a class="el" href="daedatabase__db_8inc_source.html">daedatabase_db.inc</a>.</p>

</div>
</div>
<a class="anchor" id="aa1a1292d38a78a6c69d43d5ef0a0561c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDAEDatabase.html#aa1a1292d38a78a6c69d43d5ef0a0561c">DAEDatabase::getConn</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Current connection identifier <em>$this-&gt;conn</em>. </p>
<dl class="section return"><dt>Returns:</dt><dd>the current connection identifier <em>$this-&gt;conn</em> if the calling Drupal User has the required access rights to do so. Returns call to <a class="el" href="classDAEDatabase.html#aa83ea7b0e6d7b6224aceedfb3b6a0c3f" title="Current safe connection identifier $this-&gt;conn.">getSafeConn()</a> otherwise. </dd></dl>

<p>Definition at line <a class="el" href="daedatabase__db_8inc_source.html#l00155">155</a> of file <a class="el" href="daedatabase__db_8inc_source.html">daedatabase_db.inc</a>.</p>

<p>References <a class="el" href="daedatabase__db_8inc_source.html#l00071">$conn</a>, and <a class="el" href="daedatabase__db_8inc_source.html#l00169">getSafeConn()</a>.</p>

</div>
</div>
<a class="anchor" id="a337a85127a39afa560c95b6b7d44562a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classDAEDatabase.html#a337a85127a39afa560c95b6b7d44562a">DAEDatabase::getDAEDatabase</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Retrieves the current active Database or creates one if it doesn't exist (Singleton Design Pattern) </p>
<p>This function violates classical inheritance encapsulation, in the sense that it creates derived class instances in function of the Drupal <em>dae_db_application</em> global variable. </p>
<p>Somewhere, somehow, when the Drupal daedatabase configuration is changed, this database gets reinitialized. That's the way it should, but it's not quite clear how and where this is done.</p>

<p>Definition at line <a class="el" href="daedatabase__db_8inc_source.html#l00124">124</a> of file <a class="el" href="daedatabase__db_8inc_source.html">daedatabase_db.inc</a>.</p>

<p>References <a class="el" href="daedatabase__db_8inc_source.html#l00084">$database</a>, and <a class="el" href="daedatabase__db_8inc_source.html#l00978">databaseDebugMessage()</a>.</p>

<p>Referenced by <a class="el" href="daedatabase__db_8inc_source.html#l00053">getDAEDatabase()</a>.</p>

</div>
</div>
<a class="anchor" id="ad599e9ca84ff4a553312b1e4f1a02e51"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDAEDatabase.html#ad599e9ca84ff4a553312b1e4f1a02e51">DAEDatabase::getDataItemType</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>SQL query returning type of a given dataitem id. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">$id</td><td>Database id number from <em>dataitem</em> table. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd><em>DATA_ITEM_PAGE_IMAGE</em> if <em>$id</em> is a <em>PAGE_IMAGE</em>, <em>DATA_ITEM_DATASET</em> if it is a <em>DATASET</em>. Returns DATA_ITEM_UNKNOWN otherwise</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000031">Todo:</a></b></dt><dd>This function is DAE Data Model dependant and should be moved to a more specific file. </dd></dl>

<p>Definition at line <a class="el" href="daedatabase__db_8inc_source.html#l00303">303</a> of file <a class="el" href="daedatabase__db_8inc_source.html">daedatabase_db.inc</a>.</p>

<p>References <a class="el" href="daedatabase__db_8inc_source.html#l00205">r()</a>.</p>

</div>
</div>
<a class="anchor" id="aa83ea7b0e6d7b6224aceedfb3b6a0c3f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDAEDatabase.html#aa83ea7b0e6d7b6224aceedfb3b6a0c3f">DAEDatabase::getSafeConn</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Current safe connection identifier <em>$this-&gt;conn</em>. </p>
<dl class="section return"><dt>Returns:</dt><dd>the current safe connection identifier <em>$this-&gt;safe_conn</em> otherwise. </dd></dl>

<p>Definition at line <a class="el" href="daedatabase__db_8inc_source.html#l00169">169</a> of file <a class="el" href="daedatabase__db_8inc_source.html">daedatabase_db.inc</a>.</p>

<p>References <a class="el" href="daedatabase__db_8inc_source.html#l00075">$safe_conn</a>.</p>

<p>Referenced by <a class="el" href="daedatabase__db_8inc_source.html#l00155">getConn()</a>.</p>

</div>
</div>
<a class="anchor" id="ada2e83504493b36f1ebd3cd3a0ebfe07"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDAEDatabase.html#ada2e83504493b36f1ebd3cd3a0ebfe07">DAEDatabase::i</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>variables</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Transparent call to subclass function <em>q( )</em> using the same parameters. Return value is discarded. </p>
<p>Please note that <em>q( )</em> is not defined in current class and is supposed to be implemented within the inherited class</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">$query</td><td>a valid SQL query string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>nothing </dd></dl>

<p>Definition at line <a class="el" href="daedatabase__db_8inc_source.html#l00187">187</a> of file <a class="el" href="daedatabase__db_8inc_source.html">daedatabase_db.inc</a>.</p>

<p>References <a class="el" href="daedatabase__db_8inc_source.html#l00978">databaseDebugMessage()</a>.</p>

</div>
</div>
<a class="anchor" id="a6c37c6235a5113e072ae0e6e3282e9f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDAEDatabase.html#a6c37c6235a5113e072ae0e6e3282e9f4">DAEDatabase::num_fields</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>query</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Transparent call to a DMBS specific version returning the number of fields returned by a query. </p>
<p>This function should be overloaded by deriving classes</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">$query</td><td>the query that was issued (not the SQL string, but the DBMS-specific structure. e.g. 'ressource') </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>the number of fields returned by the query </dd></dl>

<p>Reimplemented in <a class="el" href="classDAEOracleDatabase.html#a5225b770d80cfa9b53ef5abfb21df7f8">DAEOracleDatabase</a>, and <a class="el" href="classDAEMySQLDatabase.html#acd4da537e74919f7b62fff4a02d83905">DAEMySQLDatabase</a>.</p>

<p>Definition at line <a class="el" href="daedatabase__db_8inc_source.html#l00223">223</a> of file <a class="el" href="daedatabase__db_8inc_source.html">daedatabase_db.inc</a>.</p>

<p>References <a class="el" href="daedatabase__db_8inc_source.html#l00978">databaseDebugMessage()</a>.</p>

</div>
</div>
<a class="anchor" id="a977b235ab31af8f4373d247cf68f598a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDAEDatabase.html#a977b235ab31af8f4373d247cf68f598a">DAEDatabase::r</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>variables</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Transparent call to subclass function <em>q( )</em> using the same parameters. Return single row from result. </p>
<p>Please note that <em>q( )</em> is not defined in current class and is supposed to be implemented within the inherited class.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">$query</td><td>a valid SQL query string </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">$variables</td><td>array of substitution values to inject into <em>$query</em> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>first row of the query result, discarding the rest </dd></dl>

<p>Definition at line <a class="el" href="daedatabase__db_8inc_source.html#l00205">205</a> of file <a class="el" href="daedatabase__db_8inc_source.html">daedatabase_db.inc</a>.</p>

<p>References <a class="el" href="services_2examples_2authenticated__service_2soap__server__test_8php_source.html#l00045">$result</a>, and <a class="el" href="daedatabase__db_8inc_source.html#l00978">databaseDebugMessage()</a>.</p>

<p>Referenced by <a class="el" href="daedatabase__db_8inc_source.html#l00303">getDataItemType()</a>, and <a class="el" href="daedatabase__db_8inc_source.html#l00739">DAEOracleDatabase\searchTable()</a>.</p>

</div>
</div>
<a class="anchor" id="a804701ae035bee678ed0791259b0e404"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDAEDatabase.html#a804701ae035bee678ed0791259b0e404">DAEDatabase::runElapsedTime</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>run</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000009">Bug:</a></b></dt><dd>The following code does not give correct results with MySQL </dd></dl>

<p>Definition at line <a class="el" href="daedatabase__db_8inc_source.html#l00398">398</a> of file <a class="el" href="daedatabase__db_8inc_source.html">daedatabase_db.inc</a>.</p>

<p>References <a class="el" href="services_2examples_2authenticated__service_2soap__server__test_8php_source.html#l00045">$result</a>, <a class="el" href="daedatabase__db_8inc_source.html#l00072">$user</a>, and <a class="el" href="daedatabase__db_8inc_source.html#l00287">dateFormat()</a>.</p>

</div>
</div>
<a class="anchor" id="a9b8d3246d2c170ff354f0106060ef894"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDAEDatabase.html#a9b8d3246d2c170ff354f0106060ef894">DAEDatabase::runLength</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>run</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="daedatabase__db_8inc_source.html#l00424">424</a> of file <a class="el" href="daedatabase__db_8inc_source.html">daedatabase_db.inc</a>.</p>

<p>References <a class="el" href="services_2examples_2authenticated__service_2soap__server__test_8php_source.html#l00045">$result</a>, <a class="el" href="daedatabase__db_8inc_source.html#l00072">$user</a>, and <a class="el" href="daedatabase__db_8inc_source.html#l00287">dateFormat()</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a32d61c00464ee9dead0fce8e312fd274"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDAEDatabase.html#a32d61c00464ee9dead0fce8e312fd274">DAEDatabase::$conn</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Connection identifier. </p>

<p>Definition at line <a class="el" href="daedatabase__db_8inc_source.html#l00071">71</a> of file <a class="el" href="daedatabase__db_8inc_source.html">daedatabase_db.inc</a>.</p>

<p>Referenced by <a class="el" href="daedatabase__db_8inc_source.html#l00155">getConn()</a>.</p>

</div>
</div>
<a class="anchor" id="a9833ee1433ccc050abb31bbdbc580f4b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDAEDatabase.html#a9833ee1433ccc050abb31bbdbc580f4b">DAEDatabase::$database</a> = null<code> [static, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Singleton Pattern. </p>

<p>Definition at line <a class="el" href="daedatabase__db_8inc_source.html#l00084">84</a> of file <a class="el" href="daedatabase__db_8inc_source.html">daedatabase_db.inc</a>.</p>

<p>Referenced by <a class="el" href="daedatabase__db_8inc_source.html#l00124">getDAEDatabase()</a>.</p>

</div>
</div>
<a class="anchor" id="a63b5d5d7d66803c79095e30fa0099013"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDAEDatabase.html#a63b5d5d7d66803c79095e30fa0099013">DAEDatabase::$dateConversionString</a> = 'to_char'</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Database function providing conversion from a 'Date' format to a 'String' format (DBMS dependant) </p>

<p>Definition at line <a class="el" href="daedatabase__db_8inc_source.html#l00091">91</a> of file <a class="el" href="daedatabase__db_8inc_source.html">daedatabase_db.inc</a>.</p>

</div>
</div>
<a class="anchor" id="a71533ddbb5392696643c5ad784601ec3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDAEDatabase.html#a71533ddbb5392696643c5ad784601ec3">DAEDatabase::$dbmsType</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Database Management System used. </p>

<p>Definition at line <a class="el" href="daedatabase__db_8inc_source.html#l00081">81</a> of file <a class="el" href="daedatabase__db_8inc_source.html">daedatabase_db.inc</a>.</p>

</div>
</div>
<a class="anchor" id="a5e4dc122af6e5efc0f8e142b2e70ceee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDAEDatabase.html#a5e4dc122af6e5efc0f8e142b2e70ceee">DAEDatabase::$defaultSysdateString</a> = 'SYSDATE'</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>String representing the database system date variable or function. </p>

<p>Definition at line <a class="el" href="daedatabase__db_8inc_source.html#l00087">87</a> of file <a class="el" href="daedatabase__db_8inc_source.html">daedatabase_db.inc</a>.</p>

</div>
</div>
<a class="anchor" id="aec9d90d384a0009e50dc3a188f6cf138"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDAEDatabase.html#aec9d90d384a0009e50dc3a188f6cf138">DAEDatabase::$host</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Database hostname. </p>

<p>Definition at line <a class="el" href="daedatabase__db_8inc_source.html#l00079">79</a> of file <a class="el" href="daedatabase__db_8inc_source.html">daedatabase_db.inc</a>.</p>

</div>
</div>
<a class="anchor" id="a27ce60693b0f5f1d0b3c1bb19176f216"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDAEDatabase.html#a27ce60693b0f5f1d0b3c1bb19176f216">DAEDatabase::$pass</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Database connection user password. </p>

<p>Definition at line <a class="el" href="daedatabase__db_8inc_source.html#l00073">73</a> of file <a class="el" href="daedatabase__db_8inc_source.html">daedatabase_db.inc</a>.</p>

</div>
</div>
<a class="anchor" id="a5c5c6bebb86eb1cabc57db282b367f7d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDAEDatabase.html#a5c5c6bebb86eb1cabc57db282b367f7d">DAEDatabase::$ro_pass</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Database read-only connection user password. </p>

<p>Definition at line <a class="el" href="daedatabase__db_8inc_source.html#l00077">77</a> of file <a class="el" href="daedatabase__db_8inc_source.html">daedatabase_db.inc</a>.</p>

</div>
</div>
<a class="anchor" id="a6adf3b21bd6707078baea8ec9a57d3b5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDAEDatabase.html#a6adf3b21bd6707078baea8ec9a57d3b5">DAEDatabase::$ro_user</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Database read-only connection user name. </p>

<p>Definition at line <a class="el" href="daedatabase__db_8inc_source.html#l00076">76</a> of file <a class="el" href="daedatabase__db_8inc_source.html">daedatabase_db.inc</a>.</p>

</div>
</div>
<a class="anchor" id="a4f1db597ef8b33fd1b6a4d83dea5d533"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDAEDatabase.html#a4f1db597ef8b33fd1b6a4d83dea5d533">DAEDatabase::$safe_conn</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Connection identifier for safe connexions. </p>

<p>Definition at line <a class="el" href="daedatabase__db_8inc_source.html#l00075">75</a> of file <a class="el" href="daedatabase__db_8inc_source.html">daedatabase_db.inc</a>.</p>

<p>Referenced by <a class="el" href="daedatabase__db_8inc_source.html#l00169">getSafeConn()</a>.</p>

</div>
</div>
<a class="anchor" id="a2d6d68ca427ee99ab2e509c04e0688f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDAEDatabase.html#a2d6d68ca427ee99ab2e509c04e0688f5">DAEDatabase::$sysdateString</a> = 'SYSDATE'</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>String representing the database system date variable or function. </p>

<p>Definition at line <a class="el" href="daedatabase__db_8inc_source.html#l00089">89</a> of file <a class="el" href="daedatabase__db_8inc_source.html">daedatabase_db.inc</a>.</p>

</div>
</div>
<a class="anchor" id="a8533c60daaab3db375580d8e4607facc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDAEDatabase.html#a8533c60daaab3db375580d8e4607facc">DAEDatabase::$timestampFormat</a> = 'd-M-Y h:i:s A'</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Conversion parameters for 'Date' to 'String' (DBMS dependant) </p>

<p>Definition at line <a class="el" href="daedatabase__db_8inc_source.html#l00093">93</a> of file <a class="el" href="daedatabase__db_8inc_source.html">daedatabase_db.inc</a>.</p>

</div>
</div>
<a class="anchor" id="aaf0713c91fa653fdd0ffeb246a7ea3b8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDAEDatabase.html#aaf0713c91fa653fdd0ffeb246a7ea3b8">DAEDatabase::$user</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Database connection user name. </p>

<p>Definition at line <a class="el" href="daedatabase__db_8inc_source.html#l00072">72</a> of file <a class="el" href="daedatabase__db_8inc_source.html">daedatabase_db.inc</a>.</p>

<p>Referenced by <a class="el" href="daedatabase__db_8inc_source.html#l00364">checkConcurrentRuns()</a>, <a class="el" href="daedatabase__db_8inc_source.html#l00398">runElapsedTime()</a>, and <a class="el" href="daedatabase__db_8inc_source.html#l00424">runLength()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>modules/daedatabase/<a class="el" href="daedatabase__db_8inc_source.html">daedatabase_db.inc</a></li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Wed May 9 2012 10:33:42 for DAEDrupalInterface by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.0
</small></address>

</body>
</html>
